
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>SciTECO - &lt;Website&gt; sciteco(7)</title>
	<link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/rhaberkorn/sciteco/master/ico/sciteco.ico">
	<meta name="description" content="Advanced TECO dialect and interactive screen editor based on Scintilla">
	<style>
	@import "https://www.nerdfonts.com/assets/css/webfont.css";

	.reverse {
		background-color: black;
		color: white;
	}

	/* For grohtml-generated content */
	.grohtml p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
	.grohtml pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
	.grohtml table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
	.grohtml h1      { text-align: center }
	</style>
</head>
<body>
<tt>
	SciTECO - &lt;Website&gt; 
	<span class="nf nf-md-home"></span> <a href="index.html">Home</a> /
	<span class="nf nf-md-image"></span> <a href="screenshots.html">Screenshots</a> /
	<span class="nf nf-md-floppy_variant"></span> <a href="https://github.com/rhaberkorn/sciteco/releases" target=_blank>Downloads</a> /
	<span class="nf nf-fa-book_atlas"></span> <a href="sciteco.1.html"><b>sciteco</b>(1)</a> /
	<span class="nf nf-fa-book_bible"></span> <a href="sciteco.7.html"><b>sciteco</b>(7)</a> /
	<span class="nf nf-md-alpha_w_box"></span> <a href="https://github.com/rhaberkorn/sciteco/wiki" target=_blank>Wiki</a> /
	<span class="nf nf-fa-github_square"></span> <a href="https://github.com/rhaberkorn/sciteco" target=_blank>Github</a>
</tt>
<hr>

  <p class="nf nf-fa-warning"> This documents the project's HEAD revision.</p>
  <div class="grohtml">
<a href="#NAME">NAME</a><br>
<a href="#INTRODUCTION AND PHILOSOPHY">INTRODUCTION AND PHILOSOPHY</a><br>
<a href="#KEY TRANSLATION">KEY TRANSLATION</a><br>
<a href="#Key Macros">Key Macros</a><br>
<a href="#COMMANDLINE EDITING">COMMANDLINE EDITING</a><br>
<a href="#Immediate Editing Commands">Immediate Editing Commands</a><br>
<a href="#Undo and Redo">Undo and Redo</a><br>
<a href="#Auto Completion">Auto Completion</a><br>
<a href="#USER INTERFACE">USER INTERFACE</a><br>
<a href="#Colors and Theming">Colors and Theming</a><br>
<a href="#Gtk CSS Styling">Gtk CSS Styling</a><br>
<a href="#ARITHMETICS AND EXPRESSIONS">ARITHMETICS AND EXPRESSIONS</a><br>
<a href="#Operators">Operators</a><br>
<a href="#BUFFER RING">BUFFER RING</a><br>
<a href="#Buffer Editing Hooks">Buffer Editing Hooks</a><br>
<a href="#COMMAND SYNTAX">COMMAND SYNTAX</a><br>
<a href="#Modifiers">Modifiers</a><br>
<a href="#Q-REGISTERS">Q-REGISTERS</a><br>
<a href="#Q-Register Specifications">Q-Register Specifications</a><br>
<a href="#Push-Down List">Push-Down List</a><br>
<a href="#STRING-BUILDING CHARACTERS">STRING-BUILDING CHARACTERS</a><br>
<a href="#PATTERN MATCH CHARACTERS">PATTERN MATCH CHARACTERS</a><br>
<a href="#FILE NAMES AND DIRECTORIES">FILE NAMES AND DIRECTORIES</a><br>
<a href="#Glob Patterns">Glob Patterns</a><br>
<a href="#FLOW CONTROL">FLOW CONTROL</a><br>
<a href="#Gotos and Labels">Gotos and Labels</a><br>
<a href="#Comments">Comments</a><br>
<a href="#Loops">Loops</a><br>
<a href="#Conditionals">Conditionals</a><br>
<a href="#COMMAND REFERENCE">COMMAND REFERENCE</a><br>
<a href="#Save last command line">Save last command line</a><br>
<a href="#Return buffer position">Return buffer position</a><br>
<a href="#Return buffer size">Return buffer size</a><br>
<a href="#Return range for entire buffer">Return range for entire buffer</a><br>
<a href="#Insert or read ASCII numbers">Insert or read ASCII numbers</a><br>
<a href="#Conditionally break from loop">Conditionally break from loop</a><br>
<a href="#Edit command line">Edit command line</a><br>
<a href="#Get character code from buffer">Get character code from buffer</a><br>
<a href="#Append digit">Append digit</a><br>
<a href="#Go to loop start or jump to beginning of macro">Go to loop start or jump to beginning of macro</a><br>
<a href="#Go to loop end or return from macro">Go to loop end or return from macro</a><br>
<a href="#Jump to end of conditional">Jump to end of conditional</a><br>
<a href="#Jump to else-part of conditional">Jump to else-part of conditional</a><br>
<a href="#Change working directory">Change working directory</a><br>
<a href="#Binary negation">Binary negation</a><br>
<a href="#Set radix to 8 (octal)">Set radix to 8 (octal)</a><br>
<a href="#Set radix to 10 (decimal)">Set radix to 10 (decimal)</a><br>
<a href="#Set and get radix">Set and get radix</a><br>
<a href="#Translate between glyph and byte indexes">Translate between glyph and byte indexes</a><br>
<a href="#Return range of last pattern match, subexpression or text insertion">Return range of last pattern match, subexpression or text insertion</a><br>
<a href="#Return negative length of last pattern match, subexpression or textinsertion">Return negative length of last pattern match, subexpression or textinsertion</a><br>
<a href="#Retrieve date">Retrieve date</a><br>
<a href="#Retrieve time of day or timestamp">Retrieve time of day or timestamp</a><br>
<a href="#Wait and refresh screen">Wait and refresh screen</a><br>
<a href="#Get ASCII code of character">Get ASCII code of character</a><br>
<a href="#Terminate command line or return from macro">Terminate command line or return from macro</a><br>
<a href="#Discard all arguments">Discard all arguments</a><br>
<a href="#Exit program immediately">Exit program immediately</a><br>
<a href="#Set and get ED-flags">Set and get ED-flags</a><br>
<a href="#Get and set system properties">Get and set system properties</a><br>
<a href="#Set or get End of Line mode">Set or get End of Line mode</a><br>
<a href="#Edit current document&rsquo;s encoding (codepage/charset)">Edit current document&rsquo;s encoding (codepage/charset)</a><br>
<a href="#EO -&gt; major*10000 + minor*100 + micro">EO -&gt; major*10000 + minor*100 + micro</a><br>
<a href="#Exit program">Exit program</a><br>
<a href="#Insert text with string building characters">Insert text with string building characters</a><br>
<a href="#Insert with leading indention">Insert with leading indention</a><br>
<a href="#Glob files or match filename and check file type">Glob files or match filename and check file type</a><br>
<a href="#Go to label">Go to label</a><br>
<a href="#Get help for topic">Get help for topic</a><br>
<a href="#Go to position in buffer">Go to position in buffer</a><br>
<a href="#Move dot &lt;n&gt; characters">Move dot &lt;n&gt; characters</a><br>
<a href="#Move dot &lt;n&gt; characters backwards">Move dot &lt;n&gt; characters backwards</a><br>
<a href="#Move dot &lt;n&gt; lines forwards">Move dot &lt;n&gt; lines forwards</a><br>
<a href="#Move dot &lt;n&gt; lines backwards">Move dot &lt;n&gt; lines backwards</a><br>
<a href="#Move dot &lt;n&gt; words forwards">Move dot &lt;n&gt; words forwards</a><br>
<a href="#Move dot &lt;n&gt; words backwards">Move dot &lt;n&gt; words backwards</a><br>
<a href="#Delete words forwards">Delete words forwards</a><br>
<a href="#Delete word backwards">Delete word backwards</a><br>
<a href="#Kill lines">Kill lines</a><br>
<a href="#Delete characters">Delete characters</a><br>
<a href="#Convert between lines and glyph lengths or positions">Convert between lines and glyph lengths or positions</a><br>
<a href="#Save Q-Register">Save Q-Register</a><br>
<a href="#Restore Q-Register">Restore Q-Register</a><br>
<a href="#Edit or load Q-Register">Edit or load Q-Register</a><br>
<a href="#Save Q-Register string to file">Save Q-Register string to file</a><br>
<a href="#Query Q-Register existence, its integer or string characters">Query Q-Register existence, its integer or string characters</a><br>
<a href="#Set or append to Q-Register string without string building">Set or append to Q-Register string without string building</a><br>
<a href="#Set or append to Q-Register string with string building characters">Set or append to Q-Register string with string building characters</a><br>
<a href="#Insert or print Q-Register string">Insert or print Q-Register string</a><br>
<a href="#Set Q-Register integer">Set Q-Register integer</a><br>
<a href="#Increase or decrease Q-Register integer">Increase or decrease Q-Register integer</a><br>
<a href="#Execute macro">Execute macro</a><br>
<a href="#Execute from indirect command file">Execute from indirect command file</a><br>
<a href="#Copy into or append or cut to Q-Register">Copy into or append or cut to Q-Register</a><br>
<a href="#Open or edit file">Open or edit file</a><br>
<a href="#Save buffer or Q-Register">Save buffer or Q-Register</a><br>
<a href="#Read and insert file into current buffer">Read and insert file into current buffer</a><br>
<a href="#Remove buffer from ring">Remove buffer from ring</a><br>
<a href="#Set or get search mode flag">Set or get search mode flag</a><br>
<a href="#Search for pattern">Search for pattern</a><br>
<a href="#Search over buffer-boundaries">Search over buffer-boundaries</a><br>
<a href="#Delete up to occurrence of pattern">Delete up to occurrence of pattern</a><br>
<a href="#Delete occurrence of pattern">Delete occurrence of pattern</a><br>
<a href="#Search and replace">Search and replace</a><br>
<a href="#Search and replace with default">Search and replace with default</a><br>
<a href="#Search and replace with default over buffer-boundaries">Search and replace with default over buffer-boundaries</a><br>
<a href="#Execute operating system command and filter buffer contents">Execute operating system command and filter buffer contents</a><br>
<a href="#Set Q-Register to output of operating system command">Set Q-Register to output of operating system command</a><br>
<a href="#Print integer as message">Print integer as message</a><br>
<a href="#Print string as message">Print string as message</a><br>
<a href="#Type out buffer contents as messages">Type out buffer contents as messages</a><br>
<a href="#Type out the numeric arguments as a message or get character from user">Type out the numeric arguments as a message or get character from user</a><br>
<a href="#Send Scintilla message">Send Scintilla message</a><br>
<a href="#COMPATIBILITY">COMPATIBILITY</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">sciteco
&minus;&minus; Language reference for the <b>SciTECO</b>
text editor and language</p>

<h2>INTRODUCTION AND PHILOSOPHY
<a name="INTRODUCTION AND PHILOSOPHY"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
is a powerful editor and interactive programming language
following an unique paradigm of text editing. It is both
different from popular screen editors like <i>ex</i> and
traditional command-based editors like <i>ed</i>. Both of
these paradigms can be understood as language-based. Screen
editors use simple languages based on commands that closely
correspond with key presses (keyboard commands) while
command-based editors use more complex, often
turing-complete languages. Screen editors interpret their
language immediately while command-based editors do so only
after complete input of an expression. Some editors like
<i>Vi</i> or <i>emacs</i> support both screen-editing and
command-lines in different modes of operation. While such
editors represent a compromise between both paradigms (they
support both paradigms to some extent), <b>SciTECO</b>
represents a <b>synthesis</b>. In <b>SciTECO</b> the
screen-editing and command languages are the same! The
<b>SciTECO</b> language can be interpreted interactively and
commands can be as simple as single key presses or as
complex as nested high-level structured programming
constructs. While screen-editors often support an undo-stack
to undo simple operations, <b>SciTECO</b> supports undoing
and redoing on a per-character, per-command or even
user-configurable level undoing most of the side-effects on
the overall editor state.</p>

<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
is a member of the TECO family of text editor languages,
invented by Dan Murphy in the 1960s. TECO was initially a
purely command-driven editor that evolved screen editing
features later on, culminating in the invention of Emacs as
a TECO customization (macro package) in the 1970s. Emacs
later became an independent program that eventually dropped
TECO as its scripting language in favour of Lisp.
<b>SciTECO</b> is not the first attempt to devise a
TECO-based interactive screen editor. It is very similar to
<i>Video TECO</i>, a little known editor that pioneered the
concept. When <i>Video TECO</i> wanted to &ldquo;outdo
classic TECOs in every way&rdquo;, <b>SciTECO</b> wants to
outdo <i>Video TECO</i> in every way.</p>

<p style="margin-left:9%; margin-top: 1em">When using
<b>SciTECO</b> in interactive mode, it is important to know
exactly how <b>SciTECO</b> translates and processes user
input. Generally speaking, the user inputs TECO code that is
parsed and executed on the fly by a stream parser/executor.
Deleting characters from the end of the input stream is
called rub out and has the effect of reversing the
side-effects of the rubbed out characters. Rubbed out
characters are kept and displayed to the user who has the
possibility of re-inserting rubbed out characters into the
input stream. The input stream is called command line macro.
Since <b>SciTECO</b>&rsquo;s undo capabilities requires
memory and other resources, command lines may be terminated,
reclaiming all resources and emptying the command line
macro. The language of the command-line macro is basically
the same as the language used in batch processing, with the
exception of some commands that depend on the command line
macro or undo-capabilities that are disabled in batch mode.
To add to or remove from the command line macro,
<b>SciTECO</b> supports a number of special keys called
immediate editing commands. The key-processing for immediate
editing commands is described in the next two sections.
While immediate editing commands can be understood as yet
another &mdash; albeit limited &mdash; language for screen
editing, <b>SciTECO</b> also supports regular commands for
command-line editing.</p>

<h2>KEY TRANSLATION
<a name="KEY TRANSLATION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">When the user
presses a key or key-combination it is first translated to
an UTF-8 string. The rules for translating keys are as
follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p>1.</p></td>
<td width="2%"></td>
<td width="77%">


<p>Keys with a printable representation (letters, digits
and special characters) are translated to their printable
representation according to the current keyboard layout and
modifier keys. On the Gtk UI, <b>SciTECO</b> tries to
automatically take ANSI letter values in situations where
the parser accepts only ANSI characters. On Curses, you
might need key macros to achieve the same.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p>2.</p></td>
<td width="2%"></td>
<td width="77%">


<p>Control-combinations (e.g. CTRL+A) are translated to
control codes, that is a code smaller than 32. The control
code can be calculated by stripping the seventh bit from the
upper-case letter&rsquo;s ASCII code. So for instance, the
upper or lower case A (65) will be translated to code 1, B
(66) to code 2, ecetera. <b>SciTECO</b> will always use
latin letters regardless of the current keyboard layout.
<b>SciTECO</b> echos control codes as Caret followed by the
corresponding upper case letter, so you seldomly need to
know a control codes actual numeric code. For instance,
control code 2 &mdash; typed CTRL+B &mdash; will be echoed
&ldquo;&#710;B&rdquo;. <b>SciTECO</b> also treats
Caret-letter combinations equivalent to control codes under
most circumstances.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p>3.</p></td>
<td width="2%"></td>
<td width="77%">


<p>A few keys with non-printable representation are
translated to control codes as well. The most prominent is
the Escape key &mdash; it is translated to code 27. The
backspace key will always be translated to code 8, and the
Tab key to code 9. The return/enter key is always translated
to code 10 (line feed). Naturally, all of these control
codes can also be typed using a Control-key combination
(e.g. CTRL+I for the tab character) and there is often an
equivalent typed with the caret character (e.g.
&ldquo;&#710;I&rdquo;).</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p>4.</p></td>
<td width="2%"></td>
<td width="77%">


<p>A selection of other keys without printable
representation (called function keys) are looked up as key
macros, allowing user-definable character sequences to be
inserted, including immediate editing commands. If there is
no matching key macro, nothing is inserted. The key macro
feature is explained in the next subsection.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p>5.</p></td>
<td width="2%"></td>
<td width="77%">


<p>All keys with printable representations are also looked
up as key macros, allowing them to be remapped just like
function keys. Otherwise the corresponding UTF-8 strings are
inserted into the command stream.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p>6.</p></td>
<td width="2%"></td>
<td width="77%">


<p>The result of key macro lookups or the default printable
representations are processed as immediate editing commands
in a context-sensitive manner (see section <b>COMMANDLINE
EDITING</b>). By default they are inserted into the command
line macro and are immediately executed.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">While
<b>SciTECO</b> handles keys with arbitrary Unicode
representations, all immediate editing commands and regular
<b>SciTECO</b> commands operate on a language based solely
on <b>ASCII</b> codes, which is a subset of Unicode. Since
the <b>SciTECO</b> parser is Unicode-aware, this does not
exclude using Unicode glyphs wherever a single character is
expected, i.e. <b>&#710;&#710;</b><i>x</i> and
<b>U</b><i>q</i> works with arbitrary Unicode glyphs. All
<b>SciTECO</b> macros must be in valid UTF-8.</p>

<h3>Key Macros
<a name="Key Macros"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">By default
function keys except Escape, Backspace and Return are
ignored by <b>SciTECO</b>. With certain interfaces (curses)
the Escape key might only be handled after a short delay.
This is because it might be used by the terminal to transmit
Escape Sequences. This delay is minimized by <b>SciTECO</b>,
so using the escape key should not be a problem even on
ncurses/UNIX. If the default delay is too small, it can be
tweaked with the <b>ESCDELAY</b> environment variable and if
necessary a key macro can be defined as an escape surrogate
as described in this section (<b>fnkeys.tes</b> defines the
delete key as an escape surrogate for instance).</p>

<p style="margin-left:9%; margin-top: 1em">To make use of
function keys or to remap all other keys, special Q-Register
strings can be defined that are inserted into the command
stream before immediate editing command handling. The
following list of key macro registers are supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p style="margin-top: 1em"><b>&#710;KDOWN</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KUP</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the down/up cursor keys are pressed.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KLEFT</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KSLEFT</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the left or shift-left cursor keys are
pressed.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KRIGHT</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KSRIGHT</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the right or shift-right cursor keys are
pressed.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KHOME</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KSHOME</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the Home or shift-Home keys are
pressed.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KF</b><i>x</i></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the F<i>x</i>-key is pressed (<i>x</i> is
a number between 0 and 63).</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KDC</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KSDC</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the Delete or shift-Delete key is
pressed.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KIC</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KSIC</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the Insert or shift-Insert key is
pressed.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KPPAGE</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KNPAGE</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the Page-Up or Page-Down key is
pressed.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KPRINT</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KSPRINT</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the Print or shift-Print key is
pressed.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KA1</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KA3</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KB2</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KC1</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KC3</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the numeric key pad&rsquo;s upper left key
(7), upper right key (9), central key (5), lower left key
(1), or lower right key (3) is pressed and num-lock is
disabled. The key-pad&rsquo;s cursor keys are handled like
the regular cursor keys.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KEND</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KSEND</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the End or shift-End key is pressed.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KHELP</b></p></td>
<td width="2%"></td>
<td width="79%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KSHELP</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the Help or shift-Help key is pressed.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KCLOSE</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Inserted when the Close key has been pressed. More
importantly, this key is emulated in some GUIs (notably
GTK+) when the user tries to close <b>SciTECO</b>&rsquo;s
window or when the <b>SIGTERM</b> signal is received. This
allows customizing <b>SciTECO</b>&rsquo;s behaviour when
program termination is requested (e.g. only quit if there
are no unsaved buffers). The close key is also special
because it has a default action if the
&ldquo;&#710;KCLOSE&rdquo; macro is undefined: It
unconditionally quits <b>SciTECO</b>. The default action is
<b>not</b> performed when &ldquo;&#710;KCLOSE&rdquo; has
merely been masked out in the current parser state (see
below).</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;KMOUSE</b></p></td>
<td width="2%"></td>
<td width="79%">


<p>Mouse event occurred. This will not be delivered on
Curses unless bit 7 (64) is set in the <b>ED</b> flags. You
can use <b>EJ</b> with negative keys to retrieve the event
type, mouse coordinates and other information about the last
mouse event. Dot is <i>not</i> automatically scrolled into
the view when processing mouse events, so you can customize
scrolling and even have dot leaving the visible area. You
can manually scroll dot into the view by calling
<b>SCI_SCROLLCARET</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="10%">


<p><b>&#710;K</b><i>x</i></p></td>
<td width="2%"></td>
<td width="79%">


<p>Any other key with printable representation and all
control codes are looked up with a &ldquo;&#710;K&rdquo;
prefix. <i>x</i> can usually only be a single Unicode glyph.
If undefined, <i>x</i> is inserted unmodified.</p></td></tr>
</table>


<p style="margin-left:9%; margin-top: 1em">&ldquo;&#710;K&rdquo;
corresponds to CTRL+K (ASCII code 11) in the above list but
might be typed with a caret due to string building
characters in long Q-Register names. The names are all
derived from key definitions of the curses library &mdash;
not all of them may be supported on any particular user
interface.</p>

<p style="margin-left:9%; margin-top: 1em">The result of
key macro expansion differs from consecutive key presses in
that they are considered an unity. If insertion of a single
character fails (raises an error), the entire macro
expansion is automatically rubbed out.</p>

<p style="margin-left:9%; margin-top: 1em">By default key
macros are effective everywhere &mdash; pressing a key has
the same effect as processing the characters of the
corresponding key macro as immediate editing commands (or
self-inserting characters). However key macros that rewrite
the current command line will only work correctly from
specific <b>SciTECO</b> parser states. Another common use of
key macros would be to define aliases of <b>SciTECO</b>
commands for non-latin keys on Curses. <b>SciTECO</b>
therefore allows you to mask key macros in specific parser
states by evaluating the Q-Register&rsquo;s numeric part,
thus allowing you to control <i>where</i> a key macro is
effective. The numeric part represents a bitmask of states
where keys macros are <i>disabled</i> (so the default value
0 enables that key macro everywhere). <b>SciTECO</b> defines
the following state flags:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">1</p></td>
<td width="4%"></td>
<td width="86%">


<p style="margin-top: 1em">Bit 0 represents the
&ldquo;start&rdquo; state where <b>SciTECO</b> accepts the
beginning of a command. This is the state you will want
command line editing macros to be enabled in.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>2</p></td>
<td width="4%"></td>
<td width="86%">


<p>Bit 1 represents any string argument.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>4</p></td>
<td width="4%"></td>
<td width="86%">


<p>Bit 2 represents any case insensitive syntactic
character. This is the state you might want to use for
translating non-latin characters to their latin
equivalent.</p> </td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">All other
bits/flags represent any other parser state. Consequently,
setting the register to the inverse of a bitmask of state
flags enables the corresponding macro only for the specified
states. For instance, to enable the
&ldquo;&#710;KRIGHT&rdquo; key macro only in the
&ldquo;start&rdquo; state, you could set: <br>
1&#710;_U[&#710;KRIGHT]</p>

<p style="margin-left:9%; margin-top: 1em">A set of useful
key macros for function keys is provided in the standard
library <b>fnkeys.tes</b>. It demonstrates how key macros
may be used to define alternate Escape keys (so the delay
issue is not experienced), or do insertion and command-line
editing using function keys.</p>

<h2>COMMANDLINE EDITING
<a name="COMMANDLINE EDITING"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">After all key
presses have been translated to characters <b>SciTECO</b>
interpretes some of them in a special way to perform command
line editing and a few other actions that cannot depend on
regular command execution. These special characters are
called Immediate Editing Commands and are outlined in the
following subsection. All characters not handled as
immediate editing commands are self-inserting, i.e. they
insert themself into the command stream and may be processed
as regular commands or part of them.</p>

<h3>Immediate Editing Commands
<a name="Immediate Editing Commands"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">In the following
table, the Immediate Editing Commands are outlined. Some of
them are ubiquitous and are not used used as regular
commands (because it would be hard to type them). Some
however are context-sensitive and are only available in or
depend on the current language context (at the end of the
command line) that is always known to <b>SciTECO</b>.
Because of this superior parsing and command line editing,
editing is much less dangerous and much more interactive
than in classic TECO implementations. Most of these commands
are control codes, so their control code mnemonics are given
as well.
<table class="tbl" style="margin-left:11%" rules="all" border="1" frame="box">
<tr>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left"><b>Name</b></td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left"><b>Code</b></td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left"><b>Mnemonics</b></td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left"><b>Context</b></td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left"><b>Description</b></td>
</tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Toggle modifier </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">7</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^G</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Everywhere </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Toggle the immediate editing command modifier and display
its new state. If enabled, the rubout commands will perform
analoguous re-insertions of previously rubbed out
characters. Therefore <b>&#710;G</b> (CTRL+G) effectively
switches between undo and redo modes. The modifier also
influences the behaviour of the TAB key. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Case insensitive command character </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">&mdash;</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">Any letter</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Beginning of case-insensitive commands <br>
(automatic case folding enabled) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid"> At
the beginning of case-insensitive commands, the case of
letters is inverted. One or two letter commands will thus
typically be inserted in upper case. This only happens if
bit 3 of the <b>ED</b> flags is set, e.g. by executing: <br>
0,8ED <br>
</td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Insert end of line sequence </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">10</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^J, Return, Enter</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Everywhere <br>
(no automatic EOL translation) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid"> If
automatic end of line sequence translation is disabled, the
return key will insert the current buffer&rsquo;s end of
line sequence (line feed; carriage return, line feed; or
carriage return) according to the <b>SCI_GETEOLMODE</b>
Scintilla message. In auto-EOL-translation mode, the return
key will always insert a line feed. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Rub out character </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">8</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^H, Backspace</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Everywhere <br>
(modifier <i>disabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Rubs out the command line&rsquo;s last character. </td>
</tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Re-insert character </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">8</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^H, Backspace</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Everywhere <br>
(modifier <i>enabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Inserts the next character from the rubbed out part of the
command line. </td> </tr> <tr>
<td rowspan="3" colspan="1" style="border-top:0px solid">
Rub out word/command </td>
<td rowspan="3" colspan="1" style="border-top:0px solid" align="left">23</td>
<td rowspan="3" colspan="1" style="border-top:0px solid" align="left">^W</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Non-empty file name arguments <br>
(modifier <i>disabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Rub out directory separator at end of filename and the last
filename component up to but not inluding the preceding
directory separator. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Non-empty string arguments <br>
(modifier <i>disabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Rub out to beginning of last word according to
Scintilla&rsquo;s definition of a word as set by
<b>SCI_SETWORDCHARS</b>, analogous to <b>Y</b> command.
</td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Miscelleaneous <br>
(modifier <i>disabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Rub out until the beginning of the last command, which is
not a no-op (whitespace). &ldquo;@&rdquo; and
&ldquo;:&rdquo; modifiers are considered part of the command
and also rubbed out. </td> </tr> <tr>
<td rowspan="3" colspan="1" style="border-top:0px solid">
Re-insert word/command </td>
<td rowspan="3" colspan="1" style="border-top:0px solid" align="left">23</td>
<td rowspan="3" colspan="1" style="border-top:0px solid" align="left">^W</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
File name arguments <br>
(modifier <i>enabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Re-insert next file name component up to and including the
next directory separator from the rubbed-out command line.
</td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
String arguments <br>
(modifier <i>enabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Re-insert next word from the rubbed-out command line
according to Scintilla&rsquo;s definition of a word as set
by <b>SCI_SETWORDCHARS</b>. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Miscelleaneous <br>
(modifier <i>enabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Re-insert next command from the rubbed-out command line
including all subsequent no-ops (whitespace).
&ldquo;@&rdquo; and &ldquo;:&rdquo; modifiers are considered
part of the command and also re-inserted. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Rub out string </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">21</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^U</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
String arguments <br>
(modifier <i>disabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Rub out the entire current string argument. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Re-insert string </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">21</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^U</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
String arguments <br>
(modifier <i>enabled</i>) </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Re-insert the entire current string argument from previously
rubbed-out part of the command line, stopping at the
string&rsquo;s terminating character. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Auto complete Q-Register name </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">9</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^I, Tab</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Q-Register specifications </td>
<td rowspan="1" colspan="1" style="border-top:0px solid"> In
all Q-Register specifications &mdash; either after a command
with a Q-Register argument like <b>M</b> or as part of a
string building construct like <b>&#710;EQ</b> (of course
including string building constructs <i>within</i>
Q-Register specifications) &mdash; auto complete the local
or global register name beginning at the start of the
specification. In the case of one or two-letter
specifications (<b>#</b><i>xy</i>), only one or two-letter
register names are considered for auto-completion. In the
case of long specifications (<b>[</b><i>name</i><b>]</b>),
fully completed names are terminated with a closing bracket,
thus ending the specification. </td> </tr> <tr>
<td rowspan="3" colspan="1" style="border-top:0px solid">
Auto complete filename </td>
<td rowspan="3" colspan="1" style="border-top:0px solid" align="left">9</td>
<td rowspan="3" colspan="1" style="border-top:0px solid" align="left">^I, Tab</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
String arguments <br>
(modifier <i>enabled</i>) </td>
<td rowspan="2" colspan="1" style="border-top:0px solid">
Auto complete filename beginning after the last space (or
beginning of the string argument). Fully completed filenames
are terminated with a space. This autocompletion works in
every string argument (as long as the <b>&#710;G</b>
modifier is enabled. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Operating system command arguments </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
File name arguments </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Auto complete filename beginning at the start of the
argument. Fully completed filenames terminate the string
argument, except if the &ldquo;{&rdquo; terminator is used.
</td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Auto complete directory </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">9</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^I, Tab</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Directory arguments </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Auto complete directory beginning at the start of the
argument. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Auto complete symbol </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">9</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^I, Tab</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Scintilla symbol arguments </td>
<td rowspan="1" colspan="1" style="border-top:0px solid"> In
Scintilla Symbol arguments (<b>ES</b> commands), complete
beginning with the symbol, terminating fully completed
symbols with a comma. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Auto complete Goto label </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">9</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^I, Tab</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Goto command arguments </td>
<td rowspan="1" colspan="1" style="border-top:0px solid"> In
Goto label arguments (<b>O</b> command), complete beginning
with the current label, terminating fully completed labels
with a comma. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Auto complete help topic </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">9</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^I, Tab</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Help topic arguments </td>
<td rowspan="1" colspan="1" style="border-top:0px solid"> In
help topic arguments (<b>?</b> command), complete beginning
at the start of the command. Fully completed topics
terminate the string argument, effectively opening the
corresponding <i>womanpage</i>, except if the
&ldquo;{&rdquo; terminator is used. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Indent to next tab stop </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">9</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^I, Tab</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Text insertion arguments </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Expands to spaces so that following text is inserted at the
next tab stop into the buffer. This takes Scintilla&rsquo;s
indention policy into account and results in the same
indention as the <b>&#710;I</b> command. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Suspend process </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">26</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^Z</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Everywhere </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Suspends process using <b>SIGTSTP</b>. This is only an
immediate editing command on platforms supporting this
signal (usually Unices). The process can be suspended from
another process as well, for instance by pressing CTRL+Z in
the console &mdash; this will also work if <b>SciTECO</b> is
busy. Therefore with GUI user interfaces (GTK+), this
command will only work as an immediate editing command in
the GUI or as a signal dispatched from an associated console
or from another process. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Redraw </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">12</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^L</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Everywhere </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Enforces a complete redraw of the entire window. This is
useful when the display becomes corrupted, especially when
using the Curses UI. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Interrupt </td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">3</td>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">^C</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
<b>SciTECO</b> is busy </td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
<b>Not a real immediate editing command.</b> Will interrupt
the current operation (character processing), yielding a
<b>SciTECO</b> error. On some GUIs it depends on
asynchronous delivery of the <b>SIGINT</b> signal and is
useful to interrupt infinite loops. Since not all user
interfaces support interruptions via <b>&#710;C</b>, it may
be necessary to deliver the signal by pressing
<b>&#710;C</b> on the attached console or by explicitly
sending it. If <b>SciTECO</b> is not busy, <b>&#710;C</b> is
self-inserting and might be typed as part of regular
commands. The <b>&#710;C</b> command itself is disallowed in
interactive mode, though. </td> </tr> </table></p>

<h3>Undo and Redo
<a name="Undo and Redo"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The immediate
editing commands that rub out and re-insert characters
effectively constitute <b>SciTECO</b>&rsquo;s undo and redo
support. As all features implemented by the immediate
editing commands, undo and redo is only possible when using
<b>SciTECO</b> interactively.</p>

<p style="margin-left:9%; margin-top: 1em">When a character
is rubbed out, <b>SciTECO</b> reverses the side effects it
had when it was typed. The rubbed out characters are not
discarded immediately but kept in a rubbed out part of the
command line. The user interface displays this area as
characters at or after the command line cursor and tries to
highlight them (e.g. by underlining and greying them out).
Therefore, since characters that resulted in errors (not
accepted into the command line macro) are automatically
rubbed out, they can still be seen in the command
line&rsquo;s rubbed out area. The rubbed out command line is
not a part of the command-line macro, though.</p>

<p style="margin-left:9%; margin-top: 1em">Changes can be
redone by typing the characters at the command line cursor
or using one of the re-insertion commands &mdash; therefore
undo and redo looks like moving the command line cursor back
and forth. The re-insertion commands are the same as the
rubout commands but need the immediate editing modifier to
be enabled. The <b>&#710;G</b> (CTRL+G) command toggles this
modifier and thus has the primary effect of switching
between undo and redo modes. The rubbed out command-line is
discarded by <b>SciTECO</b> once you type or insert a
character that is not a prefix of the rubbed out command
line. This will also automatically disable the
<b>&#710;G</b> modifier. The <b>&#710;G</b> modifier is
<i>disabled</i> by default, so the corresponding commands
work similar to their Unix shell counterparts.</p>

<p style="margin-left:9%; margin-top: 1em">Since
<b>SciTECO</b>&rsquo;s undo stack requires an increasing
amount of memory and other resources proportional to the
length of the command line, it is occasionally useful to
reclaim these resources, especially after operations that
consumed a lot of memory. In some cases, commands like tight
loops might even make the system swap until <b>SciTECO</b>
hits its configurable memory limit. It is therefore possible
to terminate command lines using the <b>$$</b> (double
escape) command &mdash; or in other words by returning from
the command line macro. Since this is a regular command
respecting <b>SciTECO</b>&rsquo;s syntax, it is much less
likely to accidentally terminate a command line than in
classic TECOs where <b>$$</b> is a special immediate editing
key sequence. Command line termination will reclaim all
undo-related resources without undoing any side effects,
thus &ldquo;persisting&rdquo; or &ldquo;committing&rdquo;
them. Since undoing those side effects (of the last command
line) will no longer be possible, command line termination
will also reset the command line macro. Global and local
Q-Registers are not affected by command line
termination.</p>

<h3>Auto Completion
<a name="Auto Completion"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The immediate
editing commands, that perform auto-completions, do so in a
manner similar to Posix shells. Upon first invocation they
try to fully or partially complete the file name (or token).
If the token can be fully completed, the current command or
Q-Register specification will also usually be terminated
automatically. If no completion can be performed, the
invocation will display a list of file names (or tokens)
that begin with the token to complete in
<b>SciTECO</b>&rsquo;s popup area. If the popup area is not
large enough to display all possible completions, this is
highlighted by the user interface using scroll bars. If the
immediate editing command is invoked again, the next page of
file names or tokens is displayed in the popup area. I.e. it
is possible to cycle through long lists of possible
auto-completions.</p>

<p style="margin-left:9%; margin-top: 1em">You can also
scroll through the popup area with the mouse wheel.
Furthermore, you can click on entries in the popup area with
the mouse in order to fully complete them. Often this will
also automatically terminate the current command or
Q-Register specification, just like an unambiguous
completion via immediate editing commands. On Curses, mouse
events are not processed unless bit 7 (64) is set in the
<b>ED</b> flags.</p>

<p style="margin-left:9%; margin-top: 1em">When completing
file names, hidden files are not considered for completion
unless a prefix of the hidden file&rsquo;s name has already
been typed. On Unix, <b>SciTECO</b> considers files and
directories beginning with &ldquo;.&rdquo; as hidden. On
Windows, the <i>hidden</i> file attribute is evaluated. On
other platforms, <b>SciTECO</b> might not identify hidden
files correctly.</p>

<p style="margin-left:9%; margin-top: 1em">Both forward and
backslash directory separators are supported as arguments to
<b>SciTECO</b> commands on Windows: The separator style used
for auto-completions is determined by the last separator in
the supplied file name and defaults to backslash. Therefore
forward-slash auto-completion is possible on Windows, e.g.
by using a forward-slash in the file name or by prefixing
file names with &ldquo;./&rdquo;. This is useful for writing
cross-platform <b>SciTECO</b> macros (see <b>FILE NAMES AND
DIRECTORIES</b>).</p>

<p style="margin-left:9%; margin-top: 1em">File name
completions are case-sensitive or insensitive depending on
operating system defaults. On some operating systems
<b>SciTECO</b> can determine the case-sensitivity of
individual directories as well.</p>

<p style="margin-left:9%; margin-top: 1em">Note that
completions take place after string building and
tilde-expansion is also performed by file name completions,
so for instance both &ldquo;&#732;/foo&rdquo; and
&ldquo;&#710;EQ[$HOME]/foo&rdquo; will complete a file in
the user&rsquo;s home directory. Auto-completion also takes
care of <i>quoting</i> string termination and string
building characters, which might be relevant especially when
autocompleting Q-Register names.</p>

<h2>USER INTERFACE
<a name="USER INTERFACE"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
can be built with support for different textual and
graphical user interfaces. In <b>SciTECO</b>&rsquo;s batch
mode, there is little difference between the user interfaces
(as no graphical window will be visible). Naturally the
interfaces have different graphical capabilities but
<b>SciTECO</b> tries to provide a consistent look and feel
across all user interfaces and reasonable defaults to make
writing user-interface agnostic macros and profiles easier.
The user interface will always be segmented into the
following areas from top of the program window to
bottom:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p style="margin-top: 1em">The <i>info area</i> identifying
the currently edited buffer or Q-Register. This area is
currently sometimes omitted. If technically possible,
<b>SciTECO</b> will include the same information in the
window&rsquo;s title.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p>The <i>Scintilla area</i> displaying the current
document&rsquo;s contents. This corresponds to a Scintilla
view (see section <b>BUFFER RING</b>) and can be customized
extensively using Scintilla messages (see the <b>ES</b>
command).</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p>The <i>message area</i> which will show the last
<b>SciTECO</b> message that occurred. This area will show
errors, warnings, &ldquo;user messages&rdquo; and other
notes and tries to highlight them appropriately.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p>The auto-completion <i>popup area</i> which is only
shown when presenting the user with a choice of
auto-completions. This area will overlap the
<i>Scintilla</i> and <i>message areas</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p>The <i>command line area</i>, showing the currently
effective and rubbed-out command line as it is edited. This
is currently a single line of text that is scrolled
automatically.</p> </td></tr>
</table>

<h3>Colors and Theming
<a name="Colors and Theming"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
supports customizing its look predominantly by setting up
the current Scintilla view using Scintilla messages (see the
<b>ES</b> command and Scintilla documentation). Most visual
properties of the Scintilla view can be set via its styles.
This is also how syntax highlighting (lexing) is set up.</p>

<p style="margin-left:9%; margin-top: 1em">The
<b>STYLE_DEFAULT</b> (32) style defines the default
foreground, background color, font etc. and is initialized
to white on black with some monospaced font by
<b>SciTECO</b>. The <b>STYLE_DEFAULT</b> is also accessed by
<b>SciTECO</b> to style the <i>info area</i>, <i>message
area</i> (if it is empty or when showing &ldquo;user
messages&rdquo;) and <i>command line area</i>. The info and
message areas are styled reverse to the setting of this
style to provide good contrast, i.e. with foreground and
background colors swapped. The colors used to highlight
errors, warnings and other messages in the <i>message
area</i> are currently hardcoded and cannot be customized.
The command line area on the other hand will be styled with
the original colors of <b>STYLE_DEFAULT</b> and should look
similar to the current Scintilla view.</p>

<p style="margin-left:9%; margin-top: 1em">The
<b>STYLE_CALLTIP</b> (38) style is also accessed by
<b>SciTECO</b> to style the <i>popup area</i> and is
initialized to black on white by <b>SciTECO</b>.</p>

<p style="margin-left:9%; margin-top: 1em">On curses user
interfaces, only a selection of 16 terminal colors can be
used, although it is possible to request changing the
default color mapping (see <b>EJ</b> command).</p>

<p style="margin-left:9%; margin-top: 1em">Scintilla styles
will usually be set up in the profile macro or <b>ED</b>
hook (for syntax highlighting). <b>SciTECO</b> ships with a
standard library with color schemes and lexer configurations
for a wide range of languages.</p>

<h3>Gtk CSS Styling
<a name="Gtk CSS Styling"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">While the tools
mentioned above are sufficient for Curses UIs, the Gtk+ 3 UI
has many more styling possibilities. The basic color scheme
will be automatically effective for the buffer view since
this is handled by Scintilla. In order to apply the color
scheme to the other UI components, a CSS file must be
provided that overrides certain styling settings of the Gtk
theme.</p>

<p style="margin-left:9%; margin-top: 1em">Therefore
<b>SciTECO</b> automatically exports the following Gtk CSS
variables that can be referred to by user-provided CSS
files: <b><br>
@sciteco_default_fg_color</b></p>

<p style="margin-left:18%;">The foreground color of
Scintilla&rsquo;s <b>STYLE_DEFAULT</b>.</p>


<p style="margin-left:9%;"><b>@sciteco_default_bg_color</b></p>

<p style="margin-left:18%;">The background color of
Scintilla&rsquo;s <b>STYLE_DEFAULT</b>.</p>


<p style="margin-left:9%;"><b>@sciteco_calltip_fg_color</b></p>

<p style="margin-left:18%;">The foreground color of
Scintilla&rsquo;s <b>STYLE_CALLTIP</b>.</p>


<p style="margin-left:9%;"><b>@sciteco_calltip_bg_color</b></p>

<p style="margin-left:18%;">The background color of
Scintilla&rsquo;s <b>STYLE_CALLTIP</b>.</p>

<p style="margin-left:9%; margin-top: 1em">Furthermore,
<b>SciTECO</b> defines named widgets for its main UI
components as well as several CSS classes.</p>

<p style="margin-left:9%; margin-top: 1em">The CSS file is
loaded from <b>$SCITECOCONFIG/.teco_css</b> if it is
existing. Else, <b>SciTECO</b> loads the fallback CSS at
<b>/usr/local/bin/../share/sciteco/fallback.css</b>, which
can also be used as a template when writing
<b>.teco_css</b>. The fallback CSS can also be consulted for
additional documentation on <b>SciTECO</b>&rsquo;s named
widgets and special CSS classes. The CSS file can be written
such that it works for any <b>SciTECO</b> color scheme and
may also be used to tweak other aspects of
<b>SciTECO</b>&rsquo;s user interface. Please refer to the
Gtk documentation for more details on CSS theming.</p>

<h2>ARITHMETICS AND EXPRESSIONS
<a name="ARITHMETICS AND EXPRESSIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
abstracts classic TECO&rsquo;s scheme of commands accepting
at most two prefix arguments and returning at most one value
for the next command into a much more elaborate scheme where
commands accept <i>n</i> arguments and return <i>n</i>
arguments. This is done using an integer value stack. The
stack is used for passing arguments and for arithmetics.
<b>SciTECO</b> is thus a stack-based language. Nevertheless
unary prefix and binary infix operators including operator
preference are supported. Since the same stack is used for
arithmetics and command arguments, arithmetics and arbitrary
code may be freely mixed like in expression-centered
languages and some classic TECOs. In fact, in <b>SciTECO</b>
digits are basically stack-operating commands. For the sake
of macro portability all integers are 64-bit signed integers
regardless of the host&rsquo;s architecture. The integer
storage size may be changed at <b>SciTECO</b> build time
however. In this specific build, integers are 64-bit.</p>

<p style="margin-left:9%; margin-top: 1em">Some commands
expect or return booleans, most often signifying success or
failure. Booleans are also integers but unlike in ordinary
(sane) languages where 0 represent false and other values
represent true, in <b>SciTECO</b> negative values (smaller
than zero) represent success and non-negative values (larger
than or equal to zero) represent failure. Therefore
<b>SciTECO</b> booleans may be negated by performing a
binary (bit by bit) negation for instance using the
<b>&#710;_</b> command.</p>

<h3>Operators
<a name="Operators"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The following
binary operators are supported with descending precedence,
whereas borders separate operators of the <i>same</i>
precedence:
<table class="tbl" style="margin-left:11%" border="1" frame="box" rules="none">
<tr>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">base ^* power</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Raise <i>base</i> to <i>power</i>. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:1px solid" align="left">a ^/ b</td>
<td rowspan="1" colspan="1" style="border-top:1px solid">
Remainder of <i>a</i> divided by <i>b</i>. It is actually a
modulo operation conforming to the host C compiler&rsquo;s
modulo semantics. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">a / b</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Divide <i>a</i> by <i>b</i>. Naturally it is a division
without remainder. </td> </tr> <tr>
<b><td rowspan="1" colspan="1" style="border-top:0px solid" align="left">a * b</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Multiply</b> <i>a</i> <b>by</b> <i>b</i><b>. </td> </tr>
<tr>
<td rowspan="1" colspan="1" style="border-top:1px solid" align="left">a - b</td>
<td rowspan="1" colspan="1" style="border-top:1px solid">
Subtract</b> <i>b</i> <b>from</b> <i>a</i><b>. </td> </tr>
<tr>
<td rowspan="1" colspan="1" style="border-top:0px solid" align="left">a + b</td>
<td rowspan="1" colspan="1" style="border-top:0px solid">
Add</b> <i>b</i> <b>to</b> <i>a</i><b>. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:1px solid" align="left">a & b</td>
<td rowspan="1" colspan="1" style="border-top:1px solid">
Binary AND. </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:1px solid" align="left">a ^# b</td>
<td rowspan="1" colspan="1" style="border-top:1px solid">
Binary exclusive OR (XOR). </td> </tr> <tr>
<td rowspan="1" colspan="1" style="border-top:1px solid" align="left">a # b</td>
<td rowspan="1" colspan="1" style="border-top:1px solid">
Binary OR. </td> </tr> </table></b></p>

<p style="margin-left:9%; margin-top: 1em">All binary
operators are <i>left-associative</i>, i.e. associate from
left to right, in <b>SciTECO</b>. Round brackets may be used
for grouping expressions to override operator precedence and
associativity. For instance, since
&ldquo;<b>&#710;/</b>&rdquo;, &ldquo;<b>/</b>&rdquo; and
&ldquo;<b>*</b>&rdquo; all have the same precedence, the
expression &ldquo;1 &#710;/ 2 / 3 * 4&rdquo; is equivalent
to &ldquo;(((1 &#710;/ 2) / 3) * 4)&rdquo;. The opening
bracket also represents an argument barrier, i.e. the first
command after the opening bracket does not see and cannot
pop any arguments from the stack. This may be useful for
mixing commands with arithmetic expressions. An expression
enclosed in brackets returns all of the values that have
been pushed onto the stack. <b>SciTECO</b> currently
performs minimal checking on the validity of braces (i.e.
the closing brace &ldquo;command&rdquo;) which are handled
more or less like regular commands with regards to flow
control. Care should thus be taken when jumping out of
braces or leaving open braces at the end of macros as this
might leave the parser in an unexpected state. Conversely,
the return command <b>$$</b> has special support for dealing
with braces. As the current behaviour has probably little
benefits, the rules governing braces might be made stricter
in a future release of <b>SciTECO</b>.</p>

<p style="margin-left:9%; margin-top: 1em">Another
construct that may be used as an argument barrier to
explicitly separate arguments is the comma
(&ldquo;,&rdquo;). It is obligatory when trying to push a
sequence of number constants like in &ldquo;1,2&rdquo; but
is optional in many contexts where it is mandatory in
classic TECO, like in &ldquo;.ZD&rdquo;. I recommend to use
it as much as possible in code where clarity matters.</p>

<p style="margin-left:9%; margin-top: 1em">The arithmetic
evaluation order established by the operator precedence or
braces must not be confused with the execution order of
<b>SciTECO</b> commands which is always strictly from left
to right (unless flow control commands are used).</p>

<p style="margin-left:9%; margin-top: 1em">The only unary
operator currently supported is &ldquo;<b>-</b>&rdquo;. The
minus-operator is special and has unique semantics. It sets
the so called <b>prefix sign</b> which is 1 by default to
-1. This prefix sign may be evaluated by commands &mdash;
most often it is the default value if the argument stack is
empty so that expressions like &ldquo;-C&rdquo; are roughly
equivalent to &ldquo;-1C&rdquo;. However in front of opening
brackets, like in &ldquo;-(1+2)&rdquo;, it is roughly
equivalent to &ldquo;-1*(1+2)&rdquo; so that values
calculated in brackets can be easily negated. In front of
digits the prefix sign specifies whether the digit is added
or subtracted from the value on the stack so that in front
of numbers the result is a negative number.</p>

<h2>BUFFER RING
<a name="BUFFER RING"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
organizes files to edit in the so called buffer ring. The
ring is a circular list of buffers. A buffer is a named or
unnamed Scintilla document, and may be thought of as
<b>SciTECO</b>&rsquo;s second important primary data type.
There is at most one unnamed buffer in the ring, identified
by the empty name. Named buffers are buffers with an
associated file name. The file might or might not already
exist in the file system. The file name uses the host
system&rsquo;s directory separator, but for the sake of
macro portability the directory separators are normalized to
&ldquo;/&rdquo; when accessing the current buffer&rsquo;s
file name with the &ldquo;*&rdquo; Q-Register. File names
are always tried to be normalized to absolute paths to make
them independant of <b>SciTECO</b>&rsquo;s current working
directory. New buffers are always added at the end of the
buffer ring. The Id of a buffer corresponds to its position
in the ring (the first one has Id 1, the second one Id 2,
etc.). Buffers may be marked dirty by destructive
operations.</p>

<p style="margin-left:9%; margin-top: 1em">Every buffer has
its own Scintilla view, which means that it behaves like a
standalone Scintilla instance. This means that all Scintilla
messages you send to the current buffer (using the <b>ES</b>
command) affect only this buffer. If you change some setting
(like syntax highlighting), switch the buffer and eventually
switch back, all settings will still be in effect. If a
configuration should be applied to all buffers, <b>ED</b>
hooks should be used (see below). Note that Q-Registers
behave differently &mdash; they can also be edited like
regular buffers but share one Scintilla instance for
performance reasons.</p>

<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
is a character-oriented editor, so every character in a
buffer/document may be addressed by a position integer. The
first character is addressed by position 0. Every document
has a current position called dot (after the &ldquo;.&rdquo;
command that returns it). A document may contain any
sequence of bytes but positions refer to characters that
might not correspond to individual bytes depending on the
document&rsquo;s encoding (see <b>EE</b> command). The
<b>&#710;E</b> command can be used to translate between byte
and character/glyph positions. Consequently when querying
the code at a character position or inserting characters by
code, the code may be an Unicode codepoint instead of
byte-sized integer.</p>

<p style="margin-left:9%; margin-top: 1em">Currently,
<b>SciTECO</b> supports buffers in UTF-8 and single-byte
ANSI encodings, that can also be used for editing raw binary
files. UTF-8 is the default codepage for new buffers and
Q-Registers unless the 2nd <b>ED</b> flag bit is set. You
can also specify <b>--8bit</b> to optimize <b>SciTECO</b>
for 8-bit cleanliness. While navigation in documents with
single-byte encodings takes place in constant time,
<b>SciTECO</b> uses heuristics in UTF-8 documents for
translating between byte and character offsets which are
slower especially when &ldquo;jumping&rdquo; into very large
lines.</p>

<p style="margin-left:9%; margin-top: 1em">To simplify
working with files using different end of line sequences
(combinations of carriage return and line feed),
<b>SciTECO</b> implements an <i>automatic EOL
translation</i> feature. When loading files with the
<b>EB</b> and <b>EQ</b> commands &mdash; or when reading
from an external process with the <b>EC</b> and <b>EG</b>
commands &mdash; <b>SciTECO</b> will normalize all end of
line sequences to line feeds. It will also detect, correct
and warn about inconsistent EOL sequences in the source file
or process output. EOL normalization is thus a lossy
process. The file&rsquo;s original EOL mode as guessed by
<b>SciTECO</b> is still saved as the corresponding Scintilla
document&rsquo;s EOL mode (see <b>SCI_SETEOLMODE</b> and the
<b>EL</b> command). If the EOL mode could not be guessed,
the document will retain a platform-default EOL mode (e.g.
carriage return, line feed on Windows and line feed on
UNIX). The EOL mode is used when saving files with the
<b>EW</b> and <b>E%</b> commands or when writing to an
external process with the <b>EC</b> and <b>EG</b> commands
in order to reconstruct the original EOL characters.
Translation on write-out will also work when the source
document has inconsistent or mixed line breaks. Therefore
macros can assume each line to be terminated by a single
line feed character while working with files that have
different EOL styles. The feature is enabled by default but
is controlled by bit 4 of the <b>ED</b> flag setting. It can
be turned off by executing: <br>
16,0ED <br>
This may be beneficial when working with very large files
&mdash; as the EOL translation imposes a performance penalty
&mdash; or non-text (binary) files. No automatic guessing of
documents&rsquo; EOL mode is performed when disabling this
feature, so all documents will have platform-default EOL
modes set.</p>

<p style="margin-left:9%; margin-top: 1em">For more
details, please refer to this manual&rsquo;s command
reference.</p>

<h3>Buffer Editing Hooks
<a name="Buffer Editing Hooks"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">When opening or
editing a file with the <b>EB</b> command or when closing a
file with the <b>EF</b> command, you often want to configure
the editor for a particular language. For instance, when
opening C++ files you might want to enable C++ lexing and
syntax highlighting automatically. <b>SciTECO</b> thus
provides user-configurable hooks into buffer editing
operations. Hooks are by default disabled. To enable them,
set bit 5 in the <b>ED</b> flags: <br>
0,32ED <b><br>
SciTECO</b> will now execute the macro in global Q-Register
&ldquo;ED&rdquo; whenever a relevant operation is performed.
This macro <b>must</b> be provided if <b>ED</b> hooks are
enabled.</p>

<p style="margin-left:9%; margin-top: 1em">The
&ldquo;ED&rdquo; macro will receive an argument that
specifies the type of operation that has just been performed
or is just about to be performed. The &ldquo;ED&rdquo; macro
is executed in a more or less isolated way by
<b>SciTECO</b>, i.e. it will not see any other argument that
is on the expression stack when the hook is executed and all
values it may leave on the expression stack are discarded.
This way, <b>ED</b> hooks should not interfere with the
stack-semantics of commands triggering them.</p>

<p style="margin-left:9%; margin-top: 1em">Possible
arguments to the &ldquo;ED&rdquo; macro begin with 0 and are
defined consecutively so the macro can branch to the
operation using a computed goto. The different values are
defined as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p><b>0</b></p></td>
<td width="8%"></td>
<td width="82%">


<p>A file has been <b>added</b> to the buffer ring. It may
or may not already exist in the file system. This file is
<b>SciTECO</b>&rsquo;s current document when this hook
executes. Scintilla lexing may be configured in this hook
&mdash; it usually only has to be done once.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p><b>1</b></p></td>
<td width="8%"></td>
<td width="82%">


<p>A buffer has been <b>edited</b> (made the current file).
This hook is not executed when a file is freshly added to
the buffer ring, since this can be simulated easily by
branching within the &ldquo;ED&rdquo; macro. In this hook
you may want to define language-specific auxiliary macros,
for instance.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p><b>2</b></p></td>
<td width="8%"></td>
<td width="82%">


<p>A buffer is about to be <b>closed</b> (removed from the
buffer ring). The buffer that is about to be closed, is
still the current document when this hook runs.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p><b>3</b></p></td>
<td width="8%"></td>
<td width="82%">


<p><b>SciTECO</b> is about to <b>quit</b>, i.e. exit
normally. This is <b>SciTECO</b>&rsquo;s equivalent of
<b>atexit</b>(3) handlers. The hook is not run when some
command fails, but only when <b>SciTECO</b> exits normally.
This is the case when control in a macro specified via
<b>--eval</b> reaches the end, or otherwise returns (using
<b>&#710;C</b> or by returning from the top-level macro via
<b>$$</b>). Similarily the hook is executed when a munged
file calls <b>&#710;C</b> or <b>EX</b> has been called
before the top-level macro returns. It is also called after
the interactive mode has shut down by calling <b>EX$$</b>.
The <b>quit</b> hook will always run in <i>batch</i> mode
(after any user interface has shut down). Errors in the
hook&rsquo;s execution will not prevent <b>SciTECO</b> from
exiting, but an error trace will be printed and
<b>SciTECO</b> exit code will be a failure code. It is not
possible to cancel program termination via <b>quit</b>
hooks. The <b>quit</b> hook may be used to transparently
save a buffer session, for instance.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">The side-effects
of the hook executions are reversed when rubbing out the
command that resulted in its execution. Unless otherwise
noted, errors during hook execution will propagate and let
the command triggering the hook execution fail.</p>

<p style="margin-left:9%; margin-top: 1em">The
<b>SciTECO</b> standard library contains a framework for
configuring Scintilla lexing and other useful hooks (see
<b>lexer.tes</b>).</p>

<h2>COMMAND SYNTAX
<a name="COMMAND SYNTAX"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>&rsquo;s
command syntax is quite flexible and diverse but may be
categorized into some base command types.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>C</b></p></td>
<td width="6%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>EF</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>A simple command consists of one or more printable or
control characters whose case is insignificant. Only <b>at
the beginning</b> of a command, carets followed by one
character are equivalent to the corresponding control
character. Since it does not make any sense whatsoever to
support a caret-form of non-operational (ignored) control
character commands (i.e. form feed, carriage return, line
feed, vertical tab), their caret forms (e.g.
&ldquo;&#710;J&rdquo;) are reserved for future use as
operational commands. The command is executed as soon as it
has been completely specified.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>Q</b><i>q</i></p></td>
<td width="6%"></td>
<td width="82%">


<p>A command identifier may be followed by a Q-Register
specification <i>q</i>. It specifies a Q-Register to be
accessed by the command (e.g. to query, set, increase).</p></td></tr>
</table>

<p style="margin-left:9%;"><b>I</b><i>string</i><b>$ <br>
FS</b><i>string1</i><b>$</b><i>string2</i><b>$</b></p>

<p style="margin-left:18%;">A command identifier (and
Q-Register specification) may be followed by one or more
string arguments. String arguments are terminated by Escape
characters (27) by default, but this may be changed using
modifiers. If enabled, string arguments may contain special
string building characters for instance to embed other
strings or to quote the argument terminator. The detection
of the end of a string is aware of string building
characters, i.e. string building constructs may contain the
current terminator. String building may be enabled or
disabled by default for a command. In interactive mode the
command is often executed as soon as it has been completely
specified and updates to the string arguments are handled
interactively.</p>

<h3>Modifiers
<a name="Modifiers"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">A
command&rsquo;s behaviour or syntax may be influenced by so
called modifiers written immediately in front of commands.
Their specific influence of a modifier always depends on the
concrete command following it. When specifying more than one
modifier, their order is insignificant.</p>

<p style="margin-left:9%; margin-top: 1em">The colon
(<b>:</b>) modifier usually prevents a command from failing
and instructs it to return a condition (success/failure)
boolean instead. <br>
1000:C= <br>
For instance if &ldquo;1000C&rdquo; would fail,
&ldquo;1000:C&rdquo; will return 0 instead.</p>

<p style="margin-left:9%; margin-top: 1em">Two colons
(<b>::</b>) can sometimes further modify a command&rsquo;s
behavior &mdash; currently it is used by the timestamp
command <b>::&#710;H</b>, the <b>::S</b> search comparison
command and a few related search-and-replace operations.</p>

<p style="margin-left:9%; margin-top: 1em">When put in
front of a command with string arguments, the at (<b>@</b>)
modifier always allows the string termination character to
be changed for that particular command. Whitespace
characters (as by <b>SciTECO</b>&rsquo;s understanding of
no-op characters) are ignored immediately after the command
name if it was <b>@</b>-modified. The alternative
termination character must be specified just before the
first string argument. For instance: <br>
@FS/foo/bar/ <br>
Any non-whitespace character may be used as an alternative
termination character and is matched case-insensitively.
There is one special case, though. If specified as the
opening curly brace (<b>{</b>), a string argument will
continue until the closing curly brace (<b>}</b>). Curly
braces must be balanced and after the closing curly brace a
new termination character may be chosen after optional
whitespace. This feature is especially useful for embedding
TECO code in string arguments, as in: <br>
@&#710;Um{ <br>
@FS{foo}/bar/ <br>
} <br>
Since whitespace is ignored in front of the alternative
escape character, this could have also been written as: <br>
@&#710;Um <br>
{ <br>
@FS {foo} /bar/ <br>
} <br>
The termination character can be <i>quoted</i> if you want
to handle it like any regular character. For instance, you
could write &ldquo;S&#710;Q<b>$$</b>&rdquo; to search for
the escape character itself.</p>

<p style="margin-left:9%; margin-top: 1em">The at
(<b>@</b>) modifier may also sometimes be supported by
commands, that do not accept string arguments. For instance,
<b>@X</b><i>q</i> cuts text into Q-Register <i>q</i>. In
front of word movement and deletion commands (e.g.
<b>W</b>), it toggles the order of word vs. non-word
characters that are skipped or deleted.</p>

<h2>Q-REGISTERS
<a name="Q-REGISTERS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
may store data in so called Q-Registers. Each Q-Register
cell has an integer and string part (can store both at the
same time). Strings are actually Scintilla documents.
Therefore Q-Register strings may be edited just like buffers
(see <b>EQ</b> command). However, in contrast to buffers
which represent standalone Scintilla instances (views), all
Q-Registers share a single Scintilla view. This means that
some settings, like parts of the lexer configuration is the
same for every Q-Register you edit. It is not
straight-forward to see which settings are saved by
Scintilla per-document. Fortunately, <b>SciTECO</b> cares
about saving the most important properties (like the cursor
position, selections and scroll state) per document, even
though Scintilla does not do so by default.</p>

<p style="margin-left:9%; margin-top: 1em">Q-Register cells
have case-sensitive names and are stored in Q-Register
tables. These tables are Red-Black trees internally.
Therefore the Q-Register namespace may be (ab)used as a
complex data structure e.g. for records, arrays and maps.
<b>SciTECO</b> provides a global Q-Register table (for
global registers) and arbitrarily many local Q-Register
tables (for local registers). Only one global and local
Q-Register table may be accessed at a time. Macro
invocations might create new local Q-Register tables for the
executed code. <b>SciTECO</b> initializes the Q-Registers
&ldquo;A&rdquo; to &ldquo;Z&rdquo; and &ldquo;0&rdquo; to
&ldquo;9&rdquo; in every Q-Register table.</p>

<p style="margin-left:9%; margin-top: 1em">There are global
Q-Registers with special significance for <b>SciTECO</b>
because they may be accessed by commands opaquely. Some of
these registers represent information beyond their textual
and numeric cells &mdash; they overwrite default operations
with custom side-effects in order to support unique idioms.
Some of the registers with special significance are
initialized by <b>SciTECO</b> while others must be manually
defined. The following list is an overview of all special
<i>global</i> registers: <b><br>
_</b> (underscore)</p>

<p style="margin-left:12%;">Search string and search
condition register. Also used by the globbing command
<b>EN</b>, so it is also the glob string and condition
register. It is initialized automatically on startup.</p>

<p style="margin-left:9%;"><b>-</b> (minus)</p>

<p style="margin-left:12%;">Replacement string register.
Its integer part is currently unused. It is initialized
automatically on startup.</p>

<p style="margin-left:9%;"><b>:</b> (colon)</p>

<p style="margin-left:12%;">The current document&rsquo;s
position (dot). This changes dot when set as with the
<b>J</b> and other movement commands. This allows you to
change dot temporarily with the following idiom: <br>
[: ! ...change dot... ! ]: <br>
The string part of this register is currently unused.</p>

<p style="margin-left:9%;"><b>*</b> (asterisk)</p>

<p style="margin-left:12%;">File name (string part) and id
(numeric part) of current buffer in ring. The unnamed buffer
has an empty name. If the current document is a register,
this returns the name or id of the buffer last edited.
Buffer file names are <i>tried</i> to be made absolute paths
by <b>SciTECO</b>, but this might not always be possible.
Also, file names accessed with the &ldquo;*&rdquo; register
will always have forward-slash directory separators even if
they are displayed differently in the user interface. The
&ldquo;*&rdquo; register may also be edited but changing its
string contents has no effect on the file name of the
buffer. Setting and appending to the &ldquo;*&rdquo;
register is unsupported. Setting the numeric part of the
&ldquo;*&rdquo; register, as in &ldquo;1U*&rdquo;, is
equivalent to editing a buffer by id (e.g.
&ldquo;1EB<b>$</b>&rdquo;) but is shorter since there is no
string parameter. This allows the useful idioms of changing
to the previous buffer with &ldquo;-%*<b>$</b>&rdquo;,
changing to the next buffer with &ldquo;%*<b>$</b>&rdquo;
and changing the current buffer temporarily: <br>
[* ! ...change current buffer... ! ]* <br>
The register is initialized automatically on startup.</p>

<p style="margin-left:9%;"><b>$</b> (dollar)</p>

<p style="margin-left:12%;">The process&rsquo; current
working directory (string part). Its numeric part is
currently unused. The working directory will always be
returned as an absolute path with normalized forward-slash
directory separators. It is possible to set this register
using the <b>&#710;U</b> or <b>EU</b> commands which will
change the current working directory in a manner similar to
the <b>FG</b> command. This allows you to change the current
directory temporarily with the following idiom: <br>
[$ ! ...change current directory... ! ]$ <br>
As with <b>FG</b>, relative directories may be specified but
querying &ldquo;$&rdquo; will still return an absolute path.
The &ldquo;$&rdquo; register may also be edited but changing
its string contents this way has no effect on the current
working directory. The register is initialized automatically
on startup.</p>

<p style="margin-left:9%;"><b>$</b> (Escape)</p>

<p style="margin-left:12%;">Command-line replacement
register. Its integer part is unused. It is initialized
automatically on startup.</p>

<p style="margin-left:9%;"><b>$</b><i>variable</i></p>

<p style="margin-left:12%;">Global Q-Registers beginning
with a dollar sign that do not contain any &ldquo;=&rdquo;
represent the process environment (the environment
variables). The register &ldquo;$&rdquo; does <b>not</b>
belong to the process environment. Some environment
variables are initialized with default values if the
corresponding environment variable is unset and some may be
accessed internally by <b>SciTECO</b> commands. In other
respects, the environment registers are ordinary
non-customized registers that support all operations. Their
numeric parts are currently unused. The mechanisms involved
are documented more elaborately in <b>sciteco</b>(1).</p>


<p style="margin-left:9%;"><b>&#732;</b><i>clipboard</i></p>

<p style="margin-left:12%;">These registers constitute
<b>SciTECO</b>&rsquo;s support for system clipboards.
Clipboard support is highly UI-specific, so different UIs
might support different clipboards (or X11 selections) or no
clipboard at all. <b>SciTECO</b> thus initializes registers
beginning with &ldquo;&#732;&rdquo; for every available
clipboard either on startup or only when entering
interactive mode. The register &ldquo;&#732;&rdquo; refers
to the default clipboard which will always exist if
clipboards are supported. Other commonly used clipboard
registers are &ldquo;&#732;P&rdquo; for the primary
selection, &ldquo;&#732;S&rdquo; for the secondary selection
and &ldquo;&#732;C&rdquo; for the clipboard selection. The
existence of a clipboard register can thus be checked in
macros to determine whether getting and modifying that
particular clipboard is supported natively. <br>
The default clipboard &ldquo;&#732;&rdquo; refers to the
clipboard selection if there are multiple clipboards. You
can set bit 10 of the <b>ED</b> flags to change it to the
primary clipboard. <b><br>
SciTECO</b> supports two ways of driving the clipboard on
ncurses. First of all, there is built-in support for OSC-52
escape sequences, as were introduced by sufficiently recent
versions of <b>xterm</b>(1) and have since been adopted by
several other terminal emulators. Since the operability of
OSC-52 clipboards cannot be tested automatically, users will
have to set the flag 256 of the <b>ED</b> flags if and only
if their terminal emulator is properly configured.
<b>xterm</b>(1) for instance must be configured for allowing
the <i>SetSelection</i> and <i>GetSelection</i> window
operations. It is nevertheless observed to be a very buggy
and unreliable feature. If running under <b>xterm</b>(1),
<b>SciTECO</b> will still check whether the XTerm version is
sufficient. Other terminal emulators like Kitty may ask for
permission to read the clipboard
(<b>read-clipboard-ask</b>). This is not supported by
<b>SciTECO</b> and must be disabled (use
<b>read-clipboard</b> instead). <br>
Alternatively, if OSC-52 clipboards are disabled, you can
set the <b>$SCITECO_CLIPBOARD_SET</b> and
<b>$SCITECO_CLIPBOARD_GET</b> environment variables (or
corresponding Q-Registers) to shell commands, that receive
the clipboard contents on stdin and output the requested
clipboard on stdout. This allows integrating with various
windowing environments. See <b>ENVIRONMENT</b> in
<b>sciteco</b>(1) for more details. <br>
Setting the string part of a clipboard register will set
that clipboard. <b>SciTECO</b> will perform automatic
EOL-translation according to the EOL-mode of the Q-Register
view, so e.g. on Windows clipboards will usually be set with
the expected DOS linebreaks. Appending to clipboard
registers is currently not supported. Furthermore,
<b>SciTECO</b> will restore the contents of the clipboard at
the time of the operation when an assignment is rubbed out
in interactive mode. When retrieving a clipboard register,
the contents of the clipboard at the time of the operation
are returned. EOL normalization will take place (if
enabled), so that pasting clipboards does not introduce
unexpected EOL sequences. The Q-Register view&rsquo;s EOL
mode will <b>not</b> be guessed from the original clipboard
contents, though. The numeric parts of the clipboard
registers are currently not used by <b>SciTECO</b>.</p>

<p style="margin-left:9%;"><b>&#710;A</b><i>x</i></p>

<p style="margin-left:12%;">An argument passed on the
operating system&rsquo;s command line. <i>x</i> can be an
integer beginning with 0. <b>&#710;A0</b> is the name of the
program, as passed via &ldquo;argv[0]&rdquo; to C programs,
and is guaranteed to always exist. All remaining registers
for <i>x</i> larger than or equal to 1 represent the
command-line parameters after all the built-in options as
reported by &ldquo;sciteco --help&rdquo;. In other words all
the options processed by the <b>SciTECO</b> main program
including the file names after &ldquo;--mung&rdquo; are
automatically excluded from the <b>&#710;A</b><i>x</i>
array. The numeric parts of the argument registers are
currently not used by <b>SciTECO</b>. For more details, see
<b>sciteco</b>(1).</p>

<p style="margin-left:9%;"><b>&#710;K</b><i>key</i></p>

<p style="margin-left:12%;">Key macro registers as
documented in section <b>KEY TRANSLATION</b>. Their
string-content represents a key macro and their numeric part
is a key macro mask. None of those registers are
automatically initialized on startup.</p>

<p style="margin-left:9%;"><b>ED</b></p>

<p style="margin-left:12%;">The <b>ED</b> hook Q-Register.
Its string-content is called as a macro when bit 5 is set in
the <b>ED</b> flags (see subsection <b>Buffer Editing
Hooks</b>). The numeric part of register <b>ED</b> is
currently unused and the register is not automatically
initialized on startup.</p>

<p style="margin-left:9%; margin-top: 1em">Furthermore,
<b>SciTECO</b> supports special local Q-Registers. The
values of these properties will therefore be known at the
beginning of macro calls (unless these calls are
colon-modified). The following list is an overview of all
special <i>local</i> registers: <b><br>
&#710;R</b> (CTRL+R)</p>

<p style="margin-left:12%;">The current radix as reported
and configurable with the <b>&#710;R</b>, <b>&#710;O</b> and
<b>&#710;D</b> commands (10 by default). The string part of
this register is currently unused.</p>

<p style="margin-left:9%;"><b>&#710;X</b> (CTRL+X)</p>

<p style="margin-left:12%;">The current search mode flag as
set and reported by the <b>&#710;X</b> command. The default
value of 0 means that searches are always case-insensitive
at the beginning of macro calls. The string part of this
register is currently unused.</p>

<p style="margin-left:9%; margin-top: 1em">Some commands
may create and initialize new registers if necessary, while
it is an error to access undefined registers for some other
commands. The string part of a register is only ever
initialized when accessed. This is done opaquely, but allows
you to use register tables as purely numeric data structures
without the overhead of empty Scintilla documents.</p>

<h3>Q-Register Specifications
<a name="Q-Register Specifications"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Q-Registers may
be referred to by commands using Q-Register
specifications:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><i>c</i></p></td>
<td width="4%"></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><b>.</b><i>c</i></p></td>
<td width="4%"></td>
<td width="78%">


<p>Refers to a one character Q-Register. The one character
name is upper-cased. All one character names except for
&ldquo;.&rdquo;, &ldquo;&#710;&rdquo; and &ldquo;#&rdquo;
can be referenced this way. If lead by a dot, the name
refers to a local Q-Register, otherwise to a global one.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><b>&#710;</b><i>c</i></p></td>
<td width="4%"></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><b>.&#710;</b><i>c</i></p></td>
<td width="4%"></td>
<td width="78%">


<p>Refers to a Q-Register, whose name is a single byte
control code. Those can be typed with upcarets as well.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><b>#</b><i>cc</i></p></td>
<td width="4%"></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><b>.#</b><i>cc</i></p></td>
<td width="4%"></td>
<td width="78%">


<p>Refers to a two character global or local Q-Register
whose name is upper-cased.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><b>[</b><i>name</i><b>]</b></p></td>
<td width="4%"></td>
<td width="78%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="9%">


<p><b>.[</b><i>name</i><b>]</b></p></td>
<td width="4%"></td>
<td width="78%">


<p>Refers to a Q-Register with an arbitrary <i>name</i>.
The name is <b>not</b> upper-cased. String building
characters may be used so that Q-Register names may be
calculated. Curly braces can be used in <i>name</i> as long
as they are balanced. The short single or double character
specifications refer to registers in the same namespace as
long specifications. For instance the specifications
&ldquo;a&rdquo; and &ldquo;A&rdquo; are equivalent to
&ldquo;[A]&rdquo;.</p> </td></tr>
</table>

<h3>Push-Down List
<a name="Push-Down List"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Another data
structure supported by <b>SciTECO</b> is the Q-Register
push-down list. Register contents may be pushed onto and
popped from this list, for instance to save and restore
global registers modified by a macro. The global Q-Register
push-down list is handled using the <b>[</b><i>q</i> and
<b>]</b><i>q</i> commands. For instance to search in a macro
without overwriting the contents of the search register you
could write: <br>
[_ Sfoo$ ]_ <br>
To copy the string and numeric contents of register
&ldquo;A&rdquo; to &ldquo;B&rdquo;, you could write
&ldquo;[a ]b&rdquo;.</p>

<h2>STRING-BUILDING CHARACTERS
<a name="STRING-BUILDING CHARACTERS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">As alluded to
earlier <b>SciTECO</b> supports special characters in
command string arguments and long Q-Register names. These
are called string-building characters. String-building
character processing may be enabled or disabled for specific
commands by default but is always enabled in long Q-Register
specifications. String building and processing is performed
in the following stages:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p style="margin-top: 1em">1.</p></td>
<td width="2%"></td>
<td width="77%">


<p style="margin-top: 1em">Carets followed by characters
are translated to control codes, so &ldquo;&#710;a&rdquo;
and &ldquo;&#710;A&rdquo; are equivalent to CTRL+A (code 1).
A double caret &ldquo;&#710;&#710;&rdquo; is translated to a
single caret, but Ctrl+caret (code 30) is not translated at
all. This caret-handling is independent of the
caret-handling in command names.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p>2.</p></td>
<td width="2%"></td>
<td width="77%">


<p>String building characters are processed, resulting in
expansions or translations of subsequent characters.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="3%">


<p>3</p></td>
<td width="2%"></td>
<td width="77%">


<p>Command-specific character processing. Some commands,
most notably the search and replace commands, might
interprete special characters and domain specific languages
after string building. Care has been taken so that the
string building and command-specific languages do not clash
(i.e. to minimize necessary escaping).</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">String building
characters/expressions are always lead by a control
character and their case is insignificant. In the following
list of supported expressions, the caret-notation thus
refers to the corresponding control code:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p style="margin-top: 1em"><b>&#710;P</b></p></td>
<td width="4%"></td>
<td width="82%">


<p style="margin-top: 1em">Disable interpretation of all
further string building characters, so all following
characters will be taken verbatim. There is no way to escape
the string terminator after &ldquo;&#710;P&rdquo;.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;Q</b><i>c</i></p></td>
<td width="4%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;R</b><i>c</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Escape character <i>c</i>. The character is not handled
as a string building or string termination character, so for
instance &ldquo;&#710;Q&#710;Q&rdquo; translates to
&ldquo;&#710;Q&rdquo;. Furthermore, some immediate editing
commands are inhibited right after <b>&#710;Q</b>, so you
can type &ldquo;&#710;Q&#710;U&rdquo; and
&ldquo;&#710;Q&#710;W&rdquo;, which translate to control
codes 21 and 23.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;V&#710;V</b></p></td>
<td width="4%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;V</b><i>c</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Translates all following characters, including the
expansions of <b>&#710;EQ</b>, <b>&#710;EU</b> etc., into
lower case. When <b>&#710;V</b> is not followed by
<b>&#710;V</b>, a single character <i>c</i> is
lower-cased.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;W&#710;W</b></p></td>
<td width="4%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;W</b><i>c</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Analogous to <b>&#710;V</b>, but upper-cases characters.
Since <b>&#710;W</b> is an immediate editing command, this
can practically be typed only with upcarets in interactive
mode.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;E\</b><i>q</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Expands to the formatted number stored in the numeric
part of Q-Register <i>q</i>. The number is formatted
according to the current radix and exactly the same as the
backslash (<b>\</b>) command would format it. Currently,
long Q-Register names have a separate independant level of
string building character processing, allowing you to build
Q-Register names whose content is then expanded.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EU</b><i>q</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Expands to the character whose code is stored in the
numeric part of Q-Register <i>q</i>. For instance if
register &ldquo;A&rdquo; contains the code 66,
&ldquo;&#710;EUa&rdquo; expands to the character
&ldquo;B&rdquo;. The interpretation of this code depends on
the context. Within inserts and searches (<b>I</b>,
<b>S</b>, etc.) bytes or Unicode codepoints are expected
depending on the buffer&rsquo;s encoding. Operations on
registers (<b>EU</b>) similarily consult the
register&rsquo;s encoding. Everything else expects Unicode
codepoints.</p> </td></tr>
</table>


<p style="margin-left:9%;"><b>&#710;E&lt;</b><i>code</i><b>&gt;</b></p>

<p style="margin-left:18%;">Expands to the character,
specified by <i>code</i>. It is read in decimal by default,
but can be given in hexadecimal if lead by &ldquo;0x&rdquo;
or octal if given with a leading &ldquo;0&rdquo;. The
current radix as specified by <b>&#710;R</b> does not
influence parsing. These semantics are compatible with
libc&rsquo;s <b>stroull</b>(3). The sequence
&ldquo;&#710;E&lt;0x41&gt;&rdquo; for instance expands to
the character &ldquo;A&rdquo;. The interpretation of this
code as bytes or Unicode codepoints depends on the context
just like for <b>&#710;EU</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EQ</b><i>q</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Expands to the string contents of the Q-Register
specified by <i>q</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;E@</b><i>q</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Expands to the shell-quoted string contents of the
Q-Register specified by <i>q</i>. The quoting will be such
that an UNIX98 &ldquo;/bin/sh&rdquo; will interpret the
quoted string like the original contents of <i>q</i>. This
is useful when generating UNIX shell code or when passing
registers with unknown contents as parameters to external
commands using the <b>EC</b> command.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EN</b><i>q</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Expands to the string contents of the Q-Register
specified by <i>q</i> but with glob pattern wildcards
escaped. This is useful for commands accepting glob patterns
to pass file names which will not be interpreted further
(e.g. if the file name may contain &ldquo;*&rdquo; or other
special characters).</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;E</b><i>c</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>All remaining <b>&#710;E</b> combinations are passed
down unmodified. Therefore <b>&#710;E</b> pattern match
characters do not have to be escaped.</p></td></tr>
</table>

<h2>PATTERN MATCH CHARACTERS
<a name="PATTERN MATCH CHARACTERS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>&rsquo;s
search and replace commands allow the use of wildcards for
pattern matching. These pattern match characters are all led
by control characters and their case is insignificant, so
they usually require much less escaping and thus less typing
than regular expressions. Nevertheless they describe a
similar class of languages. Pattern match character
processing is performed after string building by search and
replace commands.</p>

<p style="margin-left:9%; margin-top: 1em">The following
pattern match constructs are supported for matching one
character in different character classes (caret-notations
refer to the corresponding control characters):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p style="margin-top: 1em"><b>&#710;Q</b><i>c</i></p></td>
<td width="4%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;R</b><i>c</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Escape character <i>c</i>. Since these are interpreted
as string building characters as well, you may have to type
two or three <b>&#710;Q</b> in a row to escape a pattern
match character.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;S</b></p></td>
<td width="4%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EB</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all non-alpha-numeric characters.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EA</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all alphabetic characters.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EC</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all symbol constituents. These are currently
defined as alpha-numeric characters, dot (.) and dollar ($)
signs.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;ED</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all digits.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EG</b><i>q</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all characters in the string of the Q-Register
specified by <i>q</i>, i.e. one of the characters in the
register.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EL</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all line break characters. These are defined as
carriage return, line-feed, vertial tab and form feed.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;ER</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all alpha-numeric characters.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EV</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all lower-case alphabetic characters.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><b>&#710;EW</b></p></td>
<td width="4%"></td>
<td width="82%">


<p>Matches all upper-case alphabetic characters.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="5%">


<p><i>c</i></p></td>
<td width="4%"></td>
<td width="82%">


<p>All other (non-magic) characters represent a class that
contains only the character itself.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">The following
additional pattern match constructs are supported
(caret-notations refer to the corresponding control
characters):</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>&#710;X</b></p></td>
<td width="5%"></td>
<td width="28%">
</td>
<td width="54%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>&#710;EX</b></p></td>
<td width="5%"></td>
<td width="28%">


<p>Matches any character.</p></td>
<td width="54%">
</td></tr>
</table>

<p style="margin-left:9%;"><b>&#710;N</b><i>class</i></p>

<p style="margin-left:18%;">Matches any character
<b>not</b> in <i>class</i>. All constructs listed above for
matching classes may be used.</p>


<p style="margin-left:9%;"><b>&#710;EM</b><i>pattern</i></p>

<p style="margin-left:18%;">Matches many occurrences (at
least one) of <i>pattern</i>. Any pattern match construct
and non-magic character may be used.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>&#710;ES</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Matches any sequence of whitespace characters (at least
one). Whitespace characters are defined as line-break
characters, the space and horizontal tab characters.</p></td></tr>
</table>


<p style="margin-left:9%;"><b>&#710;E[</b><i>pattern1</i><b>,</b><i>pattern2</i><b>,</b><i>...</i><b>]</b></p>

<p style="margin-left:18%;">Matches one in a list of
patterns. Any pattern match construct may be used. The
pattern alternatives must be separated by commas.</p>

<p style="margin-left:9%; margin-top: 1em">All
non-pattern-match-characters match themselves. Note however
that currently, all pattern matching is performed
<b>case-insensitive</b>.</p>

<h2>FILE NAMES AND DIRECTORIES
<a name="FILE NAMES AND DIRECTORIES"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">One class of
<b>SciTECO</b> commands accepts file names or directory path
arguments. The most prominent is the <b>EB</b> command. All
file names or directories can be absolute or relative paths.
Relative paths will be resolved according to the
process&rsquo; current working directory (as can be set e.g.
via the <b>FG</b> command). Nevertheless, <b>SciTECO</b>
will function properly after changing the working directory
as <b>SciTECO</b> canonicalizes relative paths to absolute
paths if necessary. Both buffer file names and some special
Q-Registers corresponding to environment variables
documented in <b>sciteco</b>(1) are canonicalized in this
way.</p>

<p style="margin-left:9%; margin-top: 1em">The directory
separator style (forward or backslash) accepted by
<b>SciTECO</b> commands is platform dependent. Forward slash
directory separators can be used on every supported
platform. On Windows, both forward and backslash directory
separators are accepted in order to faciliate a native look
and feel. Since on some supported platforms (notably UNIX),
forward slash directory separators are the only supported
separator style, they are recommended when writing
cross-platform <b>SciTECO</b> macros. File names queried via
some <b>SciTECO</b> command or Q-Register are also
normalized to contain only forward slash directory
separators (on platforms supporting both styles) in order to
ease the task of cross-platform macros.</p>

<p style="margin-left:9%; margin-top: 1em">Currently all
path name arguments also support string building characters.
Therefore it is possible to refer to environment variables
in path arguments. For instance,
&ldquo;&#710;EQ[$HOME]/.teco_ini&rdquo; will refer to the
<b>SciTECO</b> profile on UNIX by default.</p>

<p style="margin-left:9%; margin-top: 1em">Even though the
&ldquo;HOME&rdquo; environment variable is initialized to a
sane value by <b>SciTECO</b>, it is cumbersome to type in
frequently used commands. Therefore, <b>SciTECO</b> also
supports UNIX-shell-like tilde-expansions. So for instance,
the file name &ldquo;&#732;/.teco_ini&rdquo; also expands to
the <b>SciTECO</b> profile on UNIX by default and is roughly
equivalent to &ldquo;&#710;EQ[$HOME]/.teco_ini&rdquo;. It is
important to note that &ldquo;&#732;&rdquo; is not part of
the file name proper (not even on UNIX) but a token that
needs to be expanded first. In <b>SciTECO</b> this expansion
takes place <i>after</i> processing string building
characters. Unlike the UNIX-shell, <b>SciTECO</b> will only
expand the <i>current user&rsquo;s</i> home directory using
the value of the &ldquo;$HOME&rdquo; environment register.
Thus the &ldquo;&#732;<i>username</i>&rdquo; syntax is
<b>not</b> supported.</p>

<p style="margin-left:9%; margin-top: 1em">There is special
immediate editing command support for file and directory
path arguments (e.g. tab-completions and specialized
rub-out/rub-in commands). These are documented in the
section <b>COMMANDLINE EDITING</b>.</p>

<h3>Glob Patterns
<a name="Glob Patterns"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Some commands
accept glob patterns in their file name arguments to perform
pattern matching on arbitrary strings or to work with
multiple existing files (see <b>EN</b> and <b>EB</b>
commands). <b>SciTECO</b> glob patterns mimic the POSIX
<b>fnmatch</b>(3) syntax, but work uniformly across all
platforms. The following wildcard constructs are
supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>*</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>Matches an arbitary number of characters or no character
at all.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>?</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>Matches a single arbitrary character.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>[</b><i>set</i><b>]</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>Matches one character in the given character <i>set</i>.
For instance &ldquo;[ch]&rdquo; matches both &ldquo;c&rdquo;
and &ldquo;h&rdquo;. A hyphen may be used to specify
character ranges as in &ldquo;[0-9]&rdquo; to match all
decimal digits. Within a character class, the
&ldquo;*&rdquo; and &ldquo;?&rdquo; wildcards have no
special meanings and represent their corresponding
characters. To include a hypen in the <i>set</i>, write it
first or last. To include a closing bracket in the
<i>set</i>, write it first, as in &ldquo;[]ch]&rdquo;.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>[&#710;</b><i>set</i><b>]</b></p></td>
<td width="1%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>[!</b><i>set</i><b>]</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>Matches one character which is <b>not</b> in the given
character <i>set</i>. Otherwise behaves exactly like
<b>[</b><i>set</i><b>]</b>.</p> </td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">All other
characters match themselves. Brackets can be used to escape
wildcard characters. For instance, &ldquo;[*]&rdquo; may be
used to match a literal asterisk. To facilitate passing
filenames verbatim to commands accepting glob patterns,
there is the <b>&#710;EN</b><i>q</i> string building
construct which automatically escapes glob pattern
wildcards.</p>

<h2>FLOW CONTROL
<a name="FLOW CONTROL"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
is a structured imperative language. Commands are executed
from left to right. The white space characters space, form
feed, carriage return, line feed and vertical tab are
non-operational (ignored) commands. All of the standard
structured (and unstructured) flow control constructs are
supported: gotos, loops and conditionals. Flow control
commands have a syntax similar to commands but allowing code
blocks. They are documented in the following
subsections.</p>

<p style="margin-left:9%; margin-top: 1em">It is important
to note that in contrast to classic TECOs and Video TECO,
<b>SciTECO</b> handles flow control constructs much more
elaborately. While classic TECOs control flow by linearilly
searching the program code, paying no attention to string
boundaries and comments, <b>SciTECO</b> always parses code
even when not executing so you do not have to care about
characters relevant for flow control in string arguments and
the like. <b>SciTECO</b> will never ever jump into string
arguments! Also <b>SciTECO</b> caches program counters in
tables and dedicated stacks so that flow-control statements
are generally faster than in classic TECOs.</p>

<h3>Gotos and Labels
<a name="Gotos and Labels"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">An important
flow control command in <b>SciTECO</b> is the Go-to command.
Since it is really an ordinary command, exceptional only in
setting the program counter and influencing parsing, it is
described in this document&rsquo;s command reference.
<b>SciTECO</b> can perform simple unconditional and computed
gotos which are just as powerful as switch-case statements
in other languages.</p>

<p style="margin-left:9%; margin-top: 1em">Labels are
symbolic and are defined with the following syntax: <b><br>
!</b><i>label</i><b>!</b> <br>
Whereas <i>label</i> is an arbitrary non-empty string.
Labels however cannot practically begin with an asterisk
sign (*). String building is not performed on <i>label</i>,
i.e. it is used verbatim. When a label is encountered, it is
cached in a macro-invocation level specific goto table if it
is not in there already. Therefore every macro invocation
has its own label namespace and gotos to a label have
constant complexity once a label has been parsed.
Terminating a macro execution (or command line) fails if a
label that is jumped to has not been defined. Labels are
also historically used as comments in TECO code.
That&rsquo;s why <b>SciTECO</b> allows several identical
labels in the same scope &mdash; goto commands will always
jump to the first occurrance of the label. In case of label
redefinition, a warning will be printed, so you are
encouraged to use &ldquo;true&rdquo; comments as described
below.</p>

<h3>Comments
<a name="Comments"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">In addition to
labels and unlike most classic TECO dialects, <b>SciTECO</b>
also supports true comments. True comments are parsed faster
than labels and do not take up memory in goto tables. One
form of comments is the block comment: <b><br>
!*</b><i>comment</i><b>*!</b> <br>
Single exclamation marks (!) can be embedded in the
<i>comment</i> if they are not following asterisk signs
(unlike in goto-labels). Block comments can span multiple
lines. They are analoguous to C&rsquo;s
<b>/*</b><i>...</i><b>*/</b> comments.</p>

<p style="margin-left:9%; margin-top: 1em">The second form
of real comments are end-of-line comments, which are
analogous to C++&rsquo;s <b>//</b> comments: <b><br>
!!</b><i>comment</i></p>

<p style="margin-left:9%; margin-top: 1em">The idiom
&ldquo;0&lt;<i>commands</i>&gt;&rdquo; is also sometimes
useful to comment out large blocks of <b>SciTECO</b> code.
However, all <i>commands</i> must still be syntactically
correct.</p>

<h3>Loops
<a name="Loops"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Gotos may be
used for looping, but <b>SciTECO</b> also supports a
dedicated structured looping construct. Its syntax is as
follows: <br>
[<i>n</i>]<b>&lt;</b> <i>code</i> <b>&gt;</b> <br>
In other words, sharp brackets (less-than and greater-than
signs) correspond to the loop start and end. The opening
bracket acts as an argument barrier (i.e. the command
immediately following does not see any argument) just like a
round bracket and the closing sharp bracket discards all
values accumulated on the expression stack since the
loop&rsquo;s beginning (similar to a <b>&#710;[</b>
command). The opening bracket takes an optional argument
<i>n</i>. If <i>n</i> is omitted, -1 is implied. The loops
behaviour depends on the value of <i>n</i>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p style="margin-top: 1em"><i>n</i> &gt; 0</p></td>
<td width="3%"></td>
<td width="82%">


<p style="margin-top: 1em">Execute <i>code</i> exactly
<i>n</i> times. You may break from the loop earlier though,
using the semicolon (<b>;</b>) command.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p><i>n</i> = 0</p></td>
<td width="3%"></td>
<td width="82%">


<p>Skip loop. <i>code</i> is not executed but
<b>SciTECO</b> parses until the loop&rsquo;s end before
continuing execution.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p><i>n</i> &lt; 0</p></td>
<td width="3%"></td>
<td width="82%">


<p>Infinite loop. The loop does not terminate automatically
but you must break from it manually. Consequently, if
<i>n</i> is omitted the loop will be an infinite one.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">Additionally
<b>SciTECO</b> supports special colon-modified
&ldquo;pass-through&rdquo; forms of the loop start and end
commands for processing the argument stack dynamically. The
<b>:&gt;</b> loop end command will <i>not</i> pop values
left on the stack since the beginning of the loop and can be
used to aggregate stack values. For instance, the following
command will leave the numbers 1 to 5 on the expression
stack: <br>
0Ua 5&lt;%a:&gt; <br>
The command can be understood as equivalent to the
expressions &ldquo;(%a)(%a)(%a)(%a)(%a)&rdquo; or
&ldquo;(%a,%a,%a,%a,%a)&rdquo;. Consequently, the
colon-modified loop start command will <i>not</i> represent
an argument barrier and the corresponding loop end command
will not discard any values which is useful for looping over
the contents of the stack. E.g. the following command will
print the numbers 1 to 5 (actually every additional number
argument): <br>
1,2,3,4,5,-1:&lt;&quot;&#732;1;&rsquo;=&gt; <br>
If the loop start is colon-modified, the colon in front of
the loop end command is ignored if present.</p>

<p style="margin-left:9%; margin-top: 1em">Furthermore
there are a number of flow control commands that may be used
in loops like <b>F&lt;</b> and <b>F&gt;</b>. They are
described in the reference section of this manual.</p>

<h3>Conditionals
<a name="Conditionals"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Last but not
least, <b>SciTECO</b> supports so called conditionals. They
correspond to structured IF-THEN-ELSE statements in other
imperative languages. The general syntax of conditionals is
as follows: <br>
[<i>n</i>]<b>&quot;</b><i>c if</i> [<b>|</b> <i>else</i> ]
<b>&rsquo;</b> <br>
Whereas <i>n</i> is a value on the stack to test, <i>c</i>
is a case-insignificant character identifying a condition to
check for, <i>if</i> is a code block to execute if the
condition applies and <i>else</i> is an optional code block
to execute if the condition does not apply. The conditional
pops at most one argument from the expression stack &mdash;
the remaining arguments may be evaluated by the <i>if</i> or
<i>else</i> blocks. Values accumulated on the expression
stack by the <i>if</i> or <i>else</i> blocks are not
discarded by the terminating single-quote. In other words,
conditionals may also return values. The possible conditions
are defined in the following list. Unless <i>n</i> is
defined optional, the conditionals described below yield an
error if <i>n</i> is omitted:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">



<p style="margin-top: 1em">[<i>n</i>]<b>&quot;&#732;</b></p> </td>
<td width="3%"></td>
<td width="82%">


<p style="margin-top: 1em">Applies if <i>n</i> is
<b>not</b> given (i.e. the argument stack is empty). If
<i>n</i> is given (i.e. the stack is not empty), it is
<b>not</b> removed from the expression stack. This construct
is especially useful in macros to imply default parameter
values. For instance the following macro inserts <i>n</i>
tab characters (one by default):</p></td></tr>
</table>

<p style="margin-left:18%;">@&#710;Ut{ <br>
&quot;&#732;1&rsquo;&lt;9@I//&gt; <br>
}</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><i>n</i><b>&quot;A</b></p></td>
<td width="5%"></td>
<td width="82%">


<p style="margin-top: 1em">Applies if <i>n</i> is the
Unicode codepoint of an alphabetic character.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;C</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Applies if <i>n</i> is the Unicode codepoint of a symbol
constituent. Like in pattern matching, a symbol constituent
is defined as an alpha-numeric character, dot, dollar or
underscore.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;D</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Applies if <i>n</i> is the Unicode codepoint of a digit
character. The current radix is insignificant.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;I</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Applies if <i>n</i> is the code of a directory separator
(e.g. &ldquo;/&rdquo; on UNIX, &ldquo;\&rdquo; or
&ldquo;/&rdquo; on Windows). This is useful for macros that
have to work with different separator styles in a portable
manner. Note that, <b>SciTECO</b> itself is designed not to
produce non-forward-slash separators and at least allows the
user to generate forward-slashes in portable macros. This is
not the case, for instance when working with environment
registers.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;S</b></p></td>
<td width="5%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;T</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Applies if <i>n</i> is a condition boolean signifying
success (or truth). Therefore it is equivalent to a check
for less than zero (negative).</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;F</b></p></td>
<td width="5%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;U</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Applies if <i>n</i> is a condition boolean signifying
failure (or falsehood). Therefore it is equivalent to a
check for greater than or equal to zero (non-negative).</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;E</b></p></td>
<td width="5%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;=</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Applies if <i>n</i> equals zero.</p></td></tr>
</table>

<p style="margin-left:18%;">The classic idiom for checking
two values <i>a</i> and <i>b</i> for equality is
<i>a</i><b>-</b><i>b</i><b>&quot;=</b>, but writing
<i>a</i><b>&#710;#</b><i>b</i><b>&quot;=</b> (XOR operator)
is faster.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><i>n</i><b>&quot;G</b></p></td>
<td width="5%"></td>
<td width="58%">
</td>
<td width="24%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;&gt;</b></p></td>
<td width="5%"></td>
<td width="58%">


<p>Applies if <i>n</i> is greater than zero (positive).</p></td>
<td width="24%">
</td></tr>
</table>

<p style="margin-left:18%;">To check if a value <i>a</i> is
greater than a value <i>b</i> you will commonly write:
<i>a</i><b>-</b><i>b</i><b>&quot;&gt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><i>n</i><b>&quot;L</b></p></td>
<td width="5%"></td>
<td width="54%">
</td>
<td width="28%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;&lt;</b></p></td>
<td width="5%"></td>
<td width="54%">


<p>Applies if <i>n</i> is less than zero (negative).</p></td>
<td width="28%">
</td></tr>
</table>

<p style="margin-left:18%;">To check if a value <i>a</i> is
less than a value <i>b</i> you will commonly write:
<i>a</i><b>-</b><i>b</i><b>&quot;&lt;</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><i>n</i><b>&quot;N</b></p></td>
<td width="5%"></td>
<td width="32%">


<p style="margin-top: 1em">Applies if <i>n</i> is not
zero.</p> </td>
<td width="50%">
</td></tr>
</table>

<p style="margin-left:18%;">The classic idiom for checking
two values <i>a</i> and <i>b</i> for inequality is
<i>a</i><b>-</b><i>b</i><b>&quot;N</b>, but writing
<i>a</i><b>&#710;#</b><i>b</i><b>&quot;N</b> (XOR operator)
is faster.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><i>n</i><b>&quot;R</b></p></td>
<td width="5%"></td>
<td width="82%">


<p style="margin-top: 1em">Applies if <i>n</i> is the
Unicode codepoint of an alpha-numeric character.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;V</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Applies if <i>n</i> is the Unicode codepoint of a
lower-case alphabetic character.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><i>n</i><b>&quot;W</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Applies if <i>n</i> is the Unicode codepoint of an
upper-case alphabetic character.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">There are also a
number of flow-control commands like <b>F&rsquo;</b> and
<b>F|</b> that may be used in conditionals. They are
described in the reference section of this manual. Note also
that it is safe to invoke gotos and breaks from loops in
conditional blocks.</p>

<h2>COMMAND REFERENCE
<a name="COMMAND REFERENCE"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">This section
documents all of the commands supported by <b>SciTECO</b>.
The command reference adheres to a few typographic
conventions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="3%"></td>
<td width="78%">


<p style="margin-top: 1em">The first lines in each command
subsection descibes the command&rsquo;s syntax. Each line
corresponds to one alternative.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="78%">


<p>[<i>...</i>] denotes an optional value or construct.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="78%">


<p>Alternatives are separated by &ldquo;|&rdquo;.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="78%">


<p><i>Italic</i> (or underlined) words refer to variable
values or characters.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="78%">


<p><b>Bold</b> characters are of syntactic
significance.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="78%">


<p>A right arrow (&rarr;) is followed by the
command&rsquo;s return values (i.e. values pushed onto the
expression stack).</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="3%"></td>
<td width="78%">


<p><b>$</b> separates string arguments since the default
string terminator Escape (code 27) is echoed as a dollar
sign by <b>SciTECO</b>.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">The same
conventions are used elsewhere in this manual.</p>

<h3>Save last command line
<a name="Save last command line"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">*q</p>

<p style="margin-left:9%; margin-top: 1em">Only at the very
beginning of a command-line, this command may be used to
save the last command line as a string in Q-Register
<i>q</i></p>

<h3>Return buffer position
<a name="Return buffer position"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">. &rarr; dot</p>

<p style="margin-left:9%; margin-top: 1em">&ldquo;.&rdquo;
pushes onto the stack, the current position (also called
<i>dot</i> ) of the currently selected buffer or
Q-Register.</p>

<p style="margin-left:9%; margin-top: 1em"><i>dot</i> is
also available in Q-Register &ldquo;:&rdquo;.</p>

<h3>Return buffer size
<a name="Return buffer size"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>Z</b> &rarr;
size</p>

<p style="margin-left:9%; margin-top: 1em">Pushes onto the
stack, the size of the currently selected buffer or
Q-Register. This is value is also the buffer position of the
document&rsquo;s end.</p>

<h3>Return range for entire buffer
<a name="Return range for entire buffer"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>H</b> &rarr;
0, <b>Z</b></p>

<p style="margin-left:9%; margin-top: 1em">Pushes onto the
stack the integer 0 (position of buffer beginning) and the
current buffer&rsquo;s size. It is thus often equivalent to
the expression &ldquo;0,Z&rdquo;, or more generally
&ldquo;(0,Z)&rdquo;.</p>

<h3>Insert or read ASCII numbers
<a name="Insert or read ASCII numbers"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">n\ <br>
\ &rarr; n</p>

<p style="margin-left:9%; margin-top: 1em">Backslash pops a
value from the stack, formats it according to the current
radix and inserts it in the current buffer or Q-Register at
dot. If <i>n</i> is omitted (empty stack), it does the
reverse - it reads from the current buffer position an
integer in the current radix and pushes it onto the stack.
Dot is not changed when reading integers.</p>

<p style="margin-left:9%; margin-top: 1em">In other words,
the command serializes or deserializes integers as ASCII
characters.</p>

<h3>Conditionally break from loop
<a name="Conditionally break from loop"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>bool</i>] ;
<br>
[<i>bool</i>] :;</p>

<p style="margin-left:9%; margin-top: 1em">Breaks from the
current inner-most loop if <i>bool</i> signifies failure
(non-negative value). If colon-modified, breaks from the
loop if <i>bool</i> signifies success (negative value).</p>

<p style="margin-left:9%; margin-top: 1em">If the condition
code cannot be popped from the stack, the global search
register&rsquo;s condition integer is implied instead. This
way, you may break on search success/failures without
colon-modifying the search command (or at a later
point).</p>

<p style="margin-left:9%; margin-top: 1em">Executing
&ldquo;;&rdquo; outside of iterations in the current macro
invocation level yields an error. It is thus not possible to
let a macro break a caller&rsquo;s loop.</p>

<h3>Edit command line
<a name="Edit command line"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">{ <br>
}</p>

<p style="margin-left:9%; margin-top: 1em">The opening
curly bracket is a powerful command to edit command lines
but has very simple semantics. It copies the current
commandline into the global command line editing register
(called Escape, i.e. ASCII 27) and edits this register. The
curly bracket itself is not copied.</p>

<p style="margin-left:9%; margin-top: 1em">The command line
may then be edited using any <b>SciTECO</b> command or
construct. You may switch between the command line editing
register and other registers or buffers. The user will then
usually reapply (called update) the current
command-line.</p>

<p style="margin-left:9%; margin-top: 1em">The closing
curly bracket will update the current command-line with the
contents of the global command line editing register. To do
so it merely rubs-out the current command-line up to the
first changed character and inserts all characters following
from the updated command line into the command stream. To
prevent the undesired rubout of the entire command-line, the
replacement command (&quot;}&quot;) is only allowed when the
replacement register currently edited since it will
otherwise be usually empty.</p>


<p style="margin-left:9%; margin-top: 1em"><b>Note:</b></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p style="margin-top: 1em">Command line editing only works
on command lines, but not arbitrary macros. It is therefore
not available in batch mode and will yield an error if
used.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>Command line editing commands may be safely used from
macro invocations. Such macros are called command line
editing macros.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>A command line update from a macro invocation will
always yield to the outer-most macro level (i.e. the command
line macro). Code following the update command in the macro
will thus never be executed.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>As a safe-guard against command line trashing due to
erroneous changes at the beginning of command lines, a
backup mechanism is implemented: If the updated command line
yields an error at any command during the update, the
original command line will be restored with an algorithm
similar to command line updating and the update command will
fail instead. That way it behaves like any other command
that yields an error: The character resulting in the update
is rejected by the command line input subsystem.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>In the rare case that an aforementioned command line
backup fails, the commands following the erroneous character
will not be inserted again (will be lost).</p></td></tr>
</table>

<h3>Get character code from buffer
<a name="Get character code from buffer"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>A</b> &rarr; code <br>
- <b>A</b> &rarr; code</p>

<p style="margin-left:9%; margin-top: 1em">Returns the
character <i>code</i> of the character <i>n</i> relative to
dot from the buffer. This can be an ASCII <i>code</i> or
Unicode codepoint depending on Scintilla&rsquo;s encoding of
the current buffer.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p style="margin-top: 1em">If <i>n</i> is 0, return the
<i>code</i> of the character pointed to by dot.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>If <i>n</i> is 1, return the <i>code</i> of the
character immediately after dot.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>If <i>n</i> is -1, return the <i>code</i> of the
character immediately preceding dot, ecetera.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>If <i>n</i> is omitted, the sign prefix is implied.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">If the position
of the queried character is off-page, the command will
return -1. If the document is encoded as UTF-8 and there is
an invalid byte sequence at the requested position, -2 is
returned. Incomplete byte sequences are returned as -3.</p>

<h3>Append digit
<a name="Append digit"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<i>0</i>|<i>1</i>|<i>2</i>|<i>3</i>|<i>4</i>|<i>5</i>|<i>6</i>|<i>7</i>|<i>8</i>|<i>9</i>
&rarr; n*Radix+ <b>X</b></p>

<p style="margin-left:9%; margin-top: 1em">Integer
constants in <b>SciTECO</b> may be thought of and are
technically sequences of single-digit commands. These
commands take one argument from the stack (0 is implied),
multiply it with the current radix (2, 8, 10, 16, ...), add
the digit&rsquo;s value and return the resultant
integer.</p>

<p style="margin-left:9%; margin-top: 1em">The command-like
semantics of digits may be abused in macros, for instance to
append digits to computed integers. It is not an error to
append a digit greater than the current radix - this may be
changed in the future.</p>

<h3>Go to loop start or jump to beginning of macro
<a name="Go to loop start or jump to beginning of macro"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>F</b> &lt;
<br>
: <b>F</b> &lt;</p>

<p style="margin-left:9%; margin-top: 1em">Immediately
jumps to the current loop&rsquo;s start. Also works from
inside conditionals.</p>

<p style="margin-left:9%; margin-top: 1em">This command
behaves exactly like <b>&lt;</b> with regard to
colon-modifiers.</p>

<p style="margin-left:9%; margin-top: 1em">Outside of loops
&mdash; or in a macro without a loop &mdash; this jumps to
the beginning of the macro.</p>

<h3>Go to loop end or return from macro
<a name="Go to loop end or return from macro"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>F</b> &gt;
<br>
: <b>F</b> &gt;</p>

<p style="margin-left:9%; margin-top: 1em">Jumps to the
current loop&rsquo;s end. If the loop has remaining
iterations or runs indefinitely, the jump is performed
immediately just as if &ldquo;&gt;&rdquo; had been executed.
If the loop has reached its last iteration, <b>SciTECO</b>
will parse until the loop end command has been found and
control resumes after the end of the loop.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, if the loop is incomplete and must be exited, you can
type in the loop&rsquo;s remaining commands without them
being executed (but they are parsed).</p>

<p style="margin-left:9%; margin-top: 1em">This command
behaves exactly like <b>&gt;</b> with regard to
colon-modifiers.</p>

<p style="margin-left:9%; margin-top: 1em">Calling
<b>F&gt;</b> outside of a loop at the current macro
invocation level is equivalent to calling <i>$$</i>
(terminate command line or return from macro).</p>

<h3>Jump to end of conditional
<a name="Jump to end of conditional"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>F</b>
&acute;</p>

<h3>Jump to else-part of conditional
<a name="Jump to else-part of conditional"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>F</b> |</p>

<p style="margin-left:9%; margin-top: 1em">Jump to
else-part of conditional or end of conditional (only if
invoked from inside the condition&rsquo;s else-part).</p>

<h3>Change working directory
<a name="Change working directory"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>FG</b>
[<i>directory</i>] $</p>

<p style="margin-left:9%; margin-top: 1em">Changes the
process&rsquo; current working directory to <i>directory</i>
which affects all subsequent operations on relative file
names like tab-completions. It is also inherited by external
processes spawned via <b>EC</b> and <b>EG</b>.</p>

<p style="margin-left:9%; margin-top: 1em">If
<i>directory</i> is omitted, the working directory is
changed to the current user&rsquo;s home directory as set by
the <b>HOME</b> environment variable (i.e. its corresponding
&ldquo;$HOME&rdquo; environment register). This variable is
always initialized by <b>SciTECO</b> (see
<b>sciteco</b>(1)). Therefore the expression
&ldquo;FG<b>$</b>&rdquo; is exactly equivalent to both
&ldquo;FG&#732;<b>$</b>&rdquo; and
&ldquo;FG&#710;EQ[$HOME]<b>$</b>&rdquo;.</p>

<p style="margin-left:9%; margin-top: 1em">The current
working directory is also mapped to the special global
Q-Register &ldquo;$&rdquo; (dollar sign) which may be used
retrieve the current working directory.</p>

<p style="margin-left:9%; margin-top: 1em">String-building
characters are enabled on this command and directories can
be tab-completed.</p>

<h3>Binary negation
<a name="Binary negation"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">n&#710;_ &rarr;
&#732;n</p>

<p style="margin-left:9%; margin-top: 1em">Binary negates
(complements) <i>n</i> and returns the result. Binary
complements are often used to negate <b>SciTECO</b>
booleans.</p>

<h3>Set radix to 8 (octal)
<a name="Set radix to 8 (octal)"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">&#710;
<b>O</b></p>

<h3>Set radix to 10 (decimal)
<a name="Set radix to 10 (decimal)"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">&#710;
<b>D</b></p>

<h3>Set and get radix
<a name="Set and get radix"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">radix&#710;
<b>R</b> <br>
&#710; <b>R</b> &rarr; radix</p>

<p style="margin-left:9%; margin-top: 1em">Set current
radix to any value <i>radix</i> larger than or equal to 2.
If <i>radix</i> is omitted, the command instead returns the
current radix.</p>

<p style="margin-left:9%; margin-top: 1em">An alternative
way to access the radix is via the &ldquo;&#710;R&rdquo;
local Q-Register. Consequently, the radix is local to the
current macro invocation frame, unless the macro call was
colon-modified.</p>

<h3>Translate between glyph and byte indexes
<a name="Translate between glyph and byte indexes"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">glyphs&#710;
<b>E</b> &rarr; bytes <br>
bytes:&#710; <b>E</b> &rarr; glyphs <br>
&#710; <b>E</b> &rarr; bytes <br>
:&#710; <b>E</b> &rarr; length</p>

<p style="margin-left:9%; margin-top: 1em">Translates from
glyph/character to byte indexes when called without a colon.
Otherwise when colon-modified, translates from byte indexes
back to glyph indexes. These values can differ in documents
with multi-byte encodings (of which only UTF-8 is
supported). It is especially useful to translate between
these indexes when manually invoking Scintilla messages
(<b>ES</b> command), as they almost always take byte
positions.</p>

<p style="margin-left:9%; margin-top: 1em">When called
without arguments, <b>&#710;E</b> returns the current
position (dot) in bytes. This is equivalent, but faster than
&ldquo;.&#710;E&rdquo;. <b>:&#710;E</b> without arguments
returns the length of the current document in bytes, which
is equivalent but faster than &ldquo;Z&#710;E&rdquo;.</p>

<p style="margin-left:9%; margin-top: 1em">When passing in
indexes outside of the document&rsquo;s valid area, -1 is
returned, so the return value can also be interpreted as a
TECO boolean, signalling truth/success for invalid indexes.
This provides an elegant and effective way to validate
buffer addresses.</p>

<h3>Return range of last pattern match, subexpression or text insertion
<a name="Return range of last pattern match, subexpression or text insertion"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
&#710; <b>Y</b> &rarr; start, end</p>

<p style="margin-left:9%; margin-top: 1em">This command
returns the buffer ranges of the subpatterns of the last
pattern match (search command) or of the last text
insertion. <i>n</i> specifies the number of the subpattern
from left to right. The default value 0 specifies the entire
matched pattern, while higher numbers refer to
<b>&#710;E[</b><i>...</i><b>]</b> subpatterns.
<b>&#710;Y</b> can also be used to return the buffer range
of the last text insertion by any <b>SciTECO</b> command
(<b>I</b>, <b>&#710;I</b>, <b>G</b><i>q</i>, <b>\</b>,
<b>EC</b>, <b>EN</b>, search replacements, etc). In this
case <i>n</i> is only allowed to be 0 or missing.</p>

<p style="margin-left:9%; margin-top: 1em">For instance,
&ldquo;&#710;YXq&rdquo; copies the entire matched pattern or
text insertion into register <i>q</i>.</p>

<h3>Return negative length of last pattern match, subexpression or textinsertion
<a name="Return negative length of last pattern match, subexpression or textinsertion"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
&#710; <b>S</b> &rarr; -length <br>
-&#710; <b>S</b> &rarr; length</p>

<p style="margin-left:9%; margin-top: 1em">Returns the
negative length of the subpatterns of the last pattern match
(search command) or of the last text insertion. <i>n</i>
specifies the number of the subpattern from left to right
and defaults to 0 (the entire pattern match or text
insertion). &ldquo;&#710;S&rdquo; is equivalent to
&ldquo;&#710;YU1U0 Q0-Q1&rdquo;. Without arguments, the sign
prefix negates the result, i.e. returns the length of the
entire matched pattern or text insertion.</p>

<p style="margin-left:9%; margin-top: 1em">A common idiom
&ldquo;&#710;SC&rdquo; can be used for jumping to the
beginning of the matched pattern or inserted string. Since
the result is always negative, you can use
&ldquo;&#710;SR&rdquo; to skip the matched pattern after
<b>FK</b>.</p>

<h3>Retrieve date
<a name="Retrieve date"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">&#710; <b>B</b>
&rarr; (((year-1900)*16 + month)*32 + day)</p>

<p style="margin-left:9%; margin-top: 1em">Returns the
current date via the given equation.</p>

<h3>Retrieve time of day or timestamp
<a name="Retrieve time of day or timestamp"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">&#710; <b>H</b>
&rarr; seconds since midnight <br>
:&#710; <b>H</b> &rarr; seconds <br>
::&#710; <b>H</b> &rarr; timestamp</p>

<p style="margin-left:9%; margin-top: 1em">By default
returns the current time in seconds since midnight
(UTC).</p>

<p style="margin-left:9%; margin-top: 1em">If
colon-modified it returns the number of <i>seconds</i> since
the Epoch, 1970-01-01 00:00:00 +0000 (UTC).</p>

<p style="margin-left:9%; margin-top: 1em">If modified by
two colons it returns the system&rsquo;s monotonic time in
microseconds, which can be used as a <i>timestamp</i></p>

<h3>Wait and refresh screen
<a name="Wait and refresh screen"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
&#710; <b>W</b></p>

<p style="margin-left:9%; margin-top: 1em">First sleep
<i>n</i> milliseconds before refreshing the view, i.e.
drawing it. By default it sleeps for 10ms. This can be added
to loops to make progress visible in interactive mode. In
batch mode this command is useful as a sleep command. Sleeps
can of course be interrupted with CTRL+C.</p>

<p style="margin-left:9%; margin-top: 1em">Since CTRL+W is
an immediate editing command, you may have to type this
command in upcaret mode. To enforce a complete screen redraw
you can also press CTRL+L.</p>

<h3>Get ASCII code of character
<a name="Get ASCII code of character"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">&#710;&#710;c
&rarr; n</p>

<p style="margin-left:9%; margin-top: 1em">Returns the
ASCII code of the character <i>c</i> that is part of the
command. Can be used in place of integer constants for
improved readability. For instance &#710;&#710;A will return
65.</p>

<p style="margin-left:9%; margin-top: 1em">Note that this
command can be typed CTRL+Caret or Caret-Caret.</p>

<h3>Terminate command line or return from macro
<a name="Terminate command line or return from macro"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[a1,a2,...]$$
<br>
[a1,a2,...]&#710;[$ <br>
[a1,a2,...]&#710; <b>C</b></p>

<p style="margin-left:9%; margin-top: 1em">Returns from the
current macro invocation. This will pass control to the
calling macro immediately and is thus faster than letting
control reach the macro&rsquo;s end. Also, direct arguments
to <b>$$</b> will be left on the expression stack when the
macro returns. <b>$$</b> closes loops automatically and is
thus safe to call from loop bodies. Furthermore, it has
defined semantics when executed from within braced
expressions: All braces opened in the current macro
invocation will be closed and their values discarded. Only
the direct arguments to <b>$$</b> will be kept.</p>

<p style="margin-left:9%; margin-top: 1em">Returning from
the top-level macro in batch mode will exit the program or
start up interactive mode depending on whether program exit
has been requested. If <b>$$</b> exits the program, any
remaining numeric parameter is returned by the process as
its exit status. By default, the success code is returned.
&ldquo;EX<b>$$</b>&rdquo; is thus a common idiom to exit
prematurely.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, returning from the top-level macro (i.e. typing
<b>$$</b> at the command line) has the effect of command
line termination. The arguments to <b>$$</b> are currently
not used when terminating a command line &mdash; the new
command line will always start with a clean expression
stack.</p>

<p style="margin-left:9%; margin-top: 1em"><b>&#710;C</b>
cannot be typed directly on the command-line as it could be
inserted accidentally after interrupting operations with
CTRL+C.</p>

<p style="margin-left:9%; margin-top: 1em">The first
<i>escape</i> of <b>$$</b> may be typed either as an escape
character (ASCII 27), in up-arrow mode (e.g.
<b>&#710;[$</b>) or as a dollar character &mdash; the second
character must be either a real escape character or a dollar
character.</p>

<h3>Discard all arguments
<a name="Discard all arguments"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">$ <br>
&#710;[</p>

<p style="margin-left:9%; margin-top: 1em">Pops and
discards all values from the stack that might otherwise be
used as arguments to following commands. Therefore it stops
popping on stack boundaries like they are introduced by
arithmetic brackets or loops.</p>

<p style="margin-left:9%; margin-top: 1em">Note that
&#710;[ is usually typed using the Escape key. CTRL+[
however is possible as well and equivalent to Escape in
every manner. The up-arrow notation however is processed
like any ordinary command and only works at the begining of
a command. Additionally, this command may be written as a
single dollar character.</p>

<h3>Exit program immediately
<a name="Exit program immediately"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
&#710; <b>C</b> &#710; <b>C</b></p>

<p style="margin-left:9%; margin-top: 1em">Lets the
top-level macro return immediately regardless of the current
macro invocation frame. This command is only allowed in
batch mode, so it is not invoked accidentally when using the
CTRL+C immediate editing command to interrupt long running
operations. When using <b>&#710;C&#710;C</b> in a munged
file, interactive mode is never started, so it behaves
effectively just like &ldquo;-EX<b>$$</b>&rdquo; (when
executed in the top-level macro at least).</p>

<p style="margin-left:9%; margin-top: 1em">Any numeric
parameter is returned by the process as its exit status. By
default, the success code is returned. The <b>quit</b> hook
is still executed.</p>

<p style="margin-left:9%; margin-top: 1em">This command is
currently disallowed in interactive mode.</p>

<p style="margin-left:9%; margin-top: 1em">Note that both
&ldquo;&#710;C&rdquo; can be typed either as control codes
(3) or with carets.</p>

<h3>Set and get ED-flags
<a name="Set and get ED-flags"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">flags <b>ED</b>
<br>
[off,]on <b>ED <br>
ED</b> &rarr; flags</p>

<p style="margin-left:9%; margin-top: 1em">With arguments,
the command will set the <b>ED</b> flags. <i>flags</i> is a
bitmap of flags to set. Specifying one argument to set the
flags is a special case of specifying two arguments that
allow to control which flags to enable/disable. <i>off</i>
is a bitmap of flags to disable (set to 0 in ED flags) and
<i>on</i> is a bitmap of flags that is ORed into the flags
variable. If <i>off</i> is omitted, the value 0&#710;_ is
implied. In otherwords, all flags are turned off before
turning on the <i>on</i> flags. Without any argument ED
returns the current flags.</p>

<p style="margin-left:9%; margin-top: 1em">Currently, the
following flags are used by <b>SciTECO</b>:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p style="margin-top: 1em">2:</p></td>
<td width="1%"></td>
<td width="76%">


<p style="margin-top: 1em">Reflects whether program
termination has been requested by successfully performing
the <b>EX</b> command. This flag can also be used to cancel
the effect of any prior <b>EX</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p>4:</p></td>
<td width="1%"></td>
<td width="76%">


<p>If enabled, prefer raw single-byte ANSI encoding for all
new buffers and registers. This does not change the encoding
of any existing buffers and any initialized default register
when set via <b>ED</b>, so you might want to launch
<b>SciTECO</b> with <b>--8bit</b>.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p>8:</p></td>
<td width="1%"></td>
<td width="76%">


<p>Enable/disable automatic folding of case-insensitive
command characters during interactive key translation. The
case of letter keys is inverted, so one or two character
commands will typically be inserted upper-case, but you can
still press Shift to insert lower-case letters.
Case-insensitive Q-Register specifications are not case
folded. This is thought to improve the readability of the
command line macro.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p>16:</p></td>
<td width="1%"></td>
<td width="76%">


<p>Enable/disable automatic translation of end of line
sequences to and from line feed. Disabling this flag allows
8-bit clean loading and saving of files.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p>32:</p></td>
<td width="1%"></td>
<td width="76%">


<p>Enable/Disable buffer editing hooks (via execution of
macro in global Q-Register &ldquo;ED&rdquo;)</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p>64:</p></td>
<td width="1%"></td>
<td width="76%">


<p>Enable/Disable processing and delivery of mouse events
in the Curses UI. If enabled, the terminal emulator&rsquo;s
default mouse behavior may be inhibited.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p>128:</p></td>
<td width="1%"></td>
<td width="76%">


<p>Enable/Disable enforcement of UNIX98
&ldquo;/bin/sh&rdquo; emulation for operating system command
executions</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p>256:</p></td>
<td width="1%"></td>
<td width="76%">


<p>Enable/Disable OSC-52 clipboard support. Must only be
enabled if the terminal emulator is configured properly.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="5%">


<p>512:</p></td>
<td width="1%"></td>
<td width="76%">


<p>Enable/Disable Unicode icons and symbols in the Curses
UI. This requires a capable font, like the ones provided by
the &ldquo;Nerd Fonts&rdquo; project. Changes to this flag
in interactive mode may not become effective
immediately.</p> </td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">The features
controlled thus are discribed in other sections of this
manual.</p>

<p style="margin-left:9%; margin-top: 1em">The default
value of the <b>ED</b> flags is 16 (only automatic EOL
translation enabled).</p>

<h3>Get and set system properties
<a name="Get and set system properties"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>key</i>]
<b>EJ</b> &rarr; value <br>
value,keyEJ <br>
rgb,color,3 <b>EJ</b> <br>
- <b>EJ</b> &rarr; event <br>
-2 <b>EJ</b> &rarr; y, x</p>

<p style="margin-left:9%; margin-top: 1em">This command may
be used to get and set system properties. With one argument,
it retrieves a numeric property identified by <i>key</i>. If
<i>key</i> is omitted, the prefix sign is implied (1 or -1).
With two arguments, it sets property <i>key</i> to
<i>value</i> and returns nothing. Some property <i>keys</i>
may require more than one value. Properties may be
write-only or read-only.</p>

<p style="margin-left:9%; margin-top: 1em">The following
property keys are defined:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p style="margin-top: 1em">0:</p></td>
<td width="1%"></td>
<td width="77%">


<p style="margin-top: 1em">The current user interface: 1
for Curses, 2 for GTK (<b>read-only</b>)</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p>1:</p></td>
<td width="1%"></td>
<td width="77%">


<p>The current number of buffers: Also the numeric id of
the last buffer in the ring. This is implied if no argument
is given, so &ldquo;EJ&rdquo; returns the number of buffers
in the ring. (<b>read-only</b>)</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p>2:</p></td>
<td width="1%"></td>
<td width="77%">


<p>The current memory limit in bytes. This limit helps to
prevent dangerous out-of-memory conditions (e.g. resulting
from infinite loops) by constantly sampling the memory
requirements of <b>SciTECO</b>. Note that not all platforms
support precise measurements of the current memory usage
&mdash; <b>SciTECO</b> will fall back to an approximation
which might be less than the actual usage on those
platforms. Memory limiting is effective in batch and
interactive mode. Commands which would exceed that limit
will fail instead allowing users to recover in interactive
mode, e.g. by terminating the command line. When getting, a
zero value indicates that memory limiting is disabled.
Setting a value less than or equal to 0 as in
&ldquo;0,2EJ&rdquo; disables the limit. <b>Warning:</b>
Disabling memory limiting may provoke out-of-memory errors
in long running or infinite loops (interactive mode) that
result in abnormal program termination. Setting a new limit
may fail if the current memory requirements are too large
for the new limit &mdash; if this happens you may have to
clear your command-line first. Memory limiting is enabled by
default.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p>3:</p></td>
<td width="1%"></td>
<td width="77%">


<p>This <b>write-only</b> property allows redefining the
first 16 entries of the terminal color palette &mdash; a
feature required by some color schemes when using the Curses
user interface. When setting this property, you are making a
request to define the terminal <i>color</i> as the
Scintilla-compatible RGB color value given in the <i>rgb</i>
parameter. <i>color</i> must be a value between 0 and 15
corresponding to black, red, green, yellow, blue, magenta,
cyan, white, bright black, bright red, etc. in that order.
The <i>rgb</i> value has the format 0xBBGGRR, i.e. the red
component is the least-significant byte and all other bytes
are ignored. Note that on curses, RGB color values sent to
Scintilla are actually mapped to these 16 colors by the
Scinterm port and may represent colors with no resemblance
to the &ldquo;RGB&rdquo; value used (depending on the
current palette) &mdash; they should instead be viewed as
placeholders for 16 standard terminal color codes. Please
refer to the Scinterm manual for details on the allowed
&ldquo;RGB&rdquo; values and how they map to terminal
colors. This command provides a crude way to request exact
RGB colors for the first 16 terminal colors. The color
definition may be queued or be completely ignored on other
user interfaces and no feedback is given if it fails. In
fact feedback cannot be given reliably anyway. Note that on
8 color terminals, only the first 8 colors can be redefined
(if you are lucky). Note that due to restrictions of most
terminal emulators and some curses implementations, this
command simply will not restore the original palette entry
or request when rubbed out and should generally only be used
in <i>batch-mode</i> &mdash; typically when loading a color
scheme. For the same reasons &mdash; even though
<b>SciTECO</b> tries hard to restore the original palette on
exit &mdash; palette changes may persist after
<b>SciTECO</b> terminates on most terminal emulators on
Unix. The only emulator which will restore their default
palette on exit the author is aware of is <b>xterm</b>(1)
and the Linux console driver. You have been warned. Good
luck.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p>4:</p></td>
<td width="1%"></td>
<td width="77%">


<p>The column after the last horizontal movement. This is
only used by <b>fnkeys.tes</b> and is similar to the
Scintilla-internal setting <b>SCI_CHOOSECARETX</b>. Unless
most other settings, this is on purpose not restored on
rubout, so it &quot;survives&quot; command line
replacements.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p>-1:</p></td>
<td width="1%"></td>
<td width="77%">


<p>Type of the last mouse event (<b>read-only</b>). One of
the following values will be returned:</p></td></tr>
</table>

<p style="margin-left:23%;">0:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="8%"></td>
<td width="2%"></td>
<td width="37%">


<p style="margin-top: 1em">Some button has been pressed</p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="8%">


<p>1:</p></td>
<td width="2%"></td>
<td width="37%">


<p>Some button has been released</p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="8%">


<p>2:</p></td>
<td width="2%"></td>
<td width="37%">


<p>Scroll up</p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="8%">


<p>3:</p></td>
<td width="2%"></td>
<td width="37%">


<p>Scroll down</p></td>
<td width="35%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="8%">


<p>-2:</p></td>
<td width="2%"></td>
<td width="37%"></td>
<td width="35%">
</td></tr>
</table>

<p style="margin-left:23%; margin-top: 1em">Coordinates of
the mouse pointer relative to the Scintilla view at the time
of the last mouse event. This is in pixels or cells
depending on the UI. First the Y coordinate is pushed,
followed by the X coordinate, allowing you to pass them on
directly to the <b>SCI_POSITIONFROMPOINT</b> and similar
Scintilla messages using the <b>ES</b> command.
(<b>read-only</b>)</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p style="margin-top: 1em">-3:</p></td>
<td width="1%"></td>
<td width="77%">


<p style="margin-top: 1em">Number of the mouse button
involved in the last mouse event, beginning with 1. Can be
-1 if the button cannot be determined or is irrelevant.
(<b>read-only</b>)</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="4%">


<p>-4:</p></td>
<td width="1%"></td>
<td width="77%">


<p>Bit mask describing the key modifiers at the time of the
last mouse event (<b>read-only</b>). Currently, the
following flags are used:</p></td></tr>
</table>

<p style="margin-left:23%;">1:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%"></td>
<td width="2%"></td>
<td width="23%">


<p style="margin-top: 1em">Shift key</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p>2:</p></td>
<td width="2%"></td>
<td width="23%">


<p>Control key (CTRL)</p></td>
<td width="49%">
</td></tr>
<tr valign="top" align="left">
<td width="23%"></td>
<td width="3%">


<p>4:</p></td>
<td width="2%"></td>
<td width="23%">


<p>Alt key</p></td>
<td width="49%">
</td></tr>
</table>

<h3>Set or get End of Line mode
<a name="Set or get End of Line mode"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">0 <b>EL</b> <br>
13,10: <b>EL</b> <br>
1 <b>EL</b> <br>
13: <b>EL</b> <br>
2 <b>EL</b> <br>
10: <b>EL <br>
EL</b> &rarr; 0 | 1 | 2 <br>
: <b>EL</b> &rarr; 13,10 | 13 | 10</p>

<p style="margin-left:9%; margin-top: 1em">Sets or gets the
current document&rsquo;s End Of Line (EOL) mode. This is a
thin wrapper around Scintilla&rsquo;s <b>SCI_SETEOLMODE</b>
and <b>SCI_GETEOLMODE</b> messages but is shorter to type
and supports restoring the EOL mode upon rubout. Like the
Scintilla message, <i>EL</i> does <b>not</b> change the
characters in the current document. If automatic EOL
translation is activated (which is the default),
<b>SciTECO</b> will however use this information when saving
files or writing to external processes.</p>

<p style="margin-left:9%; margin-top: 1em">With one
argument, the EOL mode is set according to these
constants:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p style="margin-top: 1em">0</p></td>
<td width="4%"></td>
<td width="77%">


<p style="margin-top: 1em">Carriage return (ASCII 13),
followed by line feed (ASCII 10). This is the default EOL
mode on DOS/Windows.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>1</p></td>
<td width="4%"></td>
<td width="77%">


<p>Carriage return (ASCII 13). The default EOL mode on old
Mac OS systems.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>2</p></td>
<td width="4%"></td>
<td width="77%">


<p>Line feed (ASCII 10). The default EOL mode on POSIX/UNIX
systems.</p> </td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">In its
colon-modified form, the EOL mode is set according to the
EOL characters on the expression stack. <b>SciTECO</b> will
only pop as many values as are necessary to determine the
EOL mode.</p>

<p style="margin-left:9%; margin-top: 1em">Without
arguments, the current EOL mode is returned. When
colon-modified, the current EOL mode&rsquo;s character
sequence is pushed onto the expression stack.</p>

<h3>Edit current document&rsquo;s encoding (codepage/charset)
<a name="Edit current document&rsquo;s encoding (codepage/charset)"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">codepageEE
<b><br>
EE</b> &rarr; codepage <br>
codepage: <b>EE</b> <br>
: <b>EE</b> &rarr; codepage</p>

<p style="margin-left:9%; margin-top: 1em">When called with
an argument, it sets the current codepage, otherwise returns
it. The following codepages are supported:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p style="margin-top: 1em">0: ANSI (raw bytes)</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>1: ISO-8859-1 (latin1)</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>77: Macintosh Latin encoding</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>161: ISO-8859-7</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>162: ISO-8859-9 (latin5)</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>163: CP1258</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>177: ISO-8859-8</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>178: ISO-8859-6</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>186: ISO-8859-13 (latin7)</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>204: KOI8-R</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>222: ISO-8859-11</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>238: ISO-8859-2 (latin2)</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>255: CP437</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>866: CP866</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>1000: ISO-8859-15 (latin9)</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>1251: CP1251</p></td>
<td width="41%">
</td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="36%">


<p>65001: UTF-8</p></td>
<td width="41%">
</td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">Displaying
characters in the single-byte (non-UTF-8) codepages might be
supported only with the Gtk UI. At least 77, 178, 163 and
255 are not displayed correctly on Gtk. 65001 (UTF-8) is the
default for new buffers. 0 (ANSI) should be used when
working with raw bytes, but is currently displayed like
ISO-8859-1 (latin1).</p>

<p style="margin-left:9%; margin-top: 1em"><b>EE</b> does
not change the buffer contents itself by default, only how
it is displayed and how <b>SciTECO</b> interacts with it.
This allows fixing up the codepage if it is not in the
default UTF-8 or if codepage guessing failed.</p>

<p style="margin-left:9%; margin-top: 1em">When
colon-modified the <b>:EE</b> command will also additionally
convert the current buffer contents into the new code page,
preserving the current position (dot). This will fail if the
conversion would be lossy. Conversions from and to UTF-8
<i>should</i> always be successful.</p>

<h3>EO -&gt; major*10000 + minor*100 + micro
<a name="EO -&gt; major*10000 + minor*100 + micro"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Return the
version of <b>SciTECO</b> encoded into an integer.</p>

<h3>Exit program
<a name="Exit program"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>bool</i>]
<b>EX</b> <br>
- <b>EX</b> <br>
: <b>EX</b></p>

<p style="margin-left:9%; margin-top: 1em">Exits
<b>SciTECO</b>, or rather requests program termination at
the end of the top-level macro. Therefore instead of exiting
immediately which could be annoying in interactive mode, EX
will result in program termination only when the command
line is terminated. This allows EX to be rubbed out and used
in macros. The usual command to exit <b>SciTECO</b> in
interactive mode is thus &ldquo;EX<b>$$</b>&rdquo;. In batch
mode EX will exit the program if control reaches the end of
the munged file &mdash; instead of starting up interactive
mode.</p>

<p style="margin-left:9%; margin-top: 1em">If any buffer is
dirty (modified), EX will yield an error. When specifying
<i>bool</i> as a success/truth condition boolean, EX will
not check whether there are modified buffers and will always
succeed. If <i>bool</i> is omitted, the sign prefix is
implied (1 or -1). In other words &ldquo;-EX<b>$$</b>&rdquo;
is the usual interactive command sequence to discard all
unsaved changes and exit.</p>

<p style="margin-left:9%; margin-top: 1em">When
colon-modified, <i>bool</i> is ignored and EX will instead
immediately try to save all modified buffers &mdash; this
can of course be reversed using rubout. Saving all buffers
can fail, e.g. if the unnamed file is modified or if there
is an IO error. &ldquo;:EX<b>$$</b>&rdquo; is nevertheless
the usual interactive command sequence to exit while saving
all modified buffers.</p>

<p style="margin-left:9%; margin-top: 1em">The program
termination request is also available in bit 2 of the
<b>ED</b> flags, so &ldquo;ED&amp;2&rdquo; can be used to
check whether EX has been successfully called.</p>

<h3>Insert text with string building characters
<a name="Insert text with string building characters"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[c1,c2,...]
<b>I</b> [<i>text</i>] $</p>

<p style="margin-left:9%; margin-top: 1em">First inserts
characters for all the values on the argument stack
(interpreted as codepoints). It does so in the order of the
arguments, i.e. <i>c1</i> is inserted before <i>c2</i> ,
ecetera. Secondly, the command inserts <i>text</i> In
interactive mode, <i>text</i> is inserted interactively.</p>

<p style="margin-left:9%; margin-top: 1em">Unlike in
classic TECO dialects, string building characters are
<b>enabled</b> for the <b>I</b> command. When editing
<b>SciTECO</b> macros, using the <b>EI</b> command may be
better, since it has string building characters
disabled.</p>

<h3>Insert with leading indention
<a name="Insert with leading indention"></a>
</h3>



<p style="margin-left:9%; margin-top: 1em">[char,...]&#710;
<b>I</b> [<i>text</i>] $</p>

<p style="margin-left:9%; margin-top: 1em">&#710;I (usually
typed using the Tab key), first inserts all the chars on the
stack into the buffer, then indention characters (one tab or
multiple spaces) and eventually the optional <i>text</i> is
inserted interactively. It is thus a derivate of the
<b>I</b> (insertion) command.</p>

<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
uses Scintilla settings to determine the indention
characters. If tab use is enabled with the
<b>SCI_SETUSETABS</b> message, a single tab character is
inserted. Tab use is enabled by default. Otherwise, a number
of spaces is inserted up to the next tab stop so that the
command&rsquo;s <i>text</i> argument is inserted at the
beginning of the next tab stop. The size of the tab stops is
configured by the <b>SCI_SETTABWIDTH</b> Scintilla message
(8 by default). In combination with <b>SciTECO</b>&rsquo;s
use of the tab key as an immediate editing command for all
insertions, this implements support for different insertion
styles. The Scintilla settings apply to the current
Scintilla document and are thus local to the currently
edited buffer or Q-Register.</p>

<p style="margin-left:9%; margin-top: 1em">However for the
same reason, the &#710;I command is not fully compatible
with classic TECO which <i>always</i> inserts a single tab
character and should not be used for the purpose of
inserting single tabs in generic macros. To insert a single
tab character reliably, the idioms &ldquo;9I$&rdquo; or
&ldquo;I&#710;I$&rdquo; may be used.</p>

<p style="margin-left:9%; margin-top: 1em">Like the I
command, &#710;I has string building characters
<b>enabled</b>.</p>

<h3>Glob files or match filename and check file type
<a name="Glob files or match filename and check file type"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>type</i>]
<b>EN</b> [<i>pattern</i>] $ [<i>filename</i>] $ <br>
[<i>type</i>] : <b>EN</b> [<i>pattern</i>] $
[<i>filename</i>] $ &rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">EN is a powerful
command for performing various tasks given a glob
<i>pattern</i>. For a description of the glob pattern
syntax, refer to the section <b>Glob Patterns</b> for
details.</p>

<p style="margin-left:9%; margin-top: 1em"><i>pattern</i>
may be omitted, in which case it defaults to the pattern
saved in the search and glob register &ldquo;_&rdquo;. If it
is specified, it overwrites the contents of the register
&ldquo;_&rdquo; with <i>pattern</i>. This behaviour is
similar to the search and replace commands and allows for
repeated globbing/matching with the same pattern. Therefoe
you should also save the &ldquo;_&rdquo; register on the
Q-Register stack when calling EN from portable macros.</p>

<p style="margin-left:9%; margin-top: 1em">If
<i>filename</i> is omitted (empty), EN may be used to expand
a glob <i>pattern</i> to a list of matching file names. This
is similar to globbing on UNIX but not as powerful and may
be used e.g. for iterating over directory contents. E.g.
&ldquo;EN*.c<b>$$</b>&rdquo; expands to all &ldquo;.c&rdquo;
files in the current directory. The resulting file names
have the exact same directory component as <i>pattern</i>
(if any). Without <i>filename</i>, EN will currently only
match files in the file name component of <i>pattern</i>,
not on each component of the path name separately. In other
words, EN only looks through the directory of <i>pattern</i>
&mdash; you cannot effectively match multiple
directories.</p>

<p style="margin-left:9%; margin-top: 1em">If
<i>filename</i> is specified, <i>pattern</i> will only be
matched against that single file name. If it matches,
<i>filename</i> is used verbatim. In this form,
<i>pattern</i> is matched against the entire file name, so
it is possible to match directory components as well.
<i>filename</i> does not necessarily have to exist in the
file system for the match to succeed (unless a file type
check is also specified). For instance,
&ldquo;ENf??/*.c<b>$</b>foo/bar.c<b>$</b>&rdquo; will always
match and the string &ldquo;foo/bar.c&rdquo; will be
inserted (see below).</p>

<p style="margin-left:9%; margin-top: 1em">By default, if
EN is not colon-modified, the result of globbing or file
name matching is inserted into the current document, at the
current position. The file names will be separated by line
feeds, i.e. every matching file will be on its own line.</p>

<p style="margin-left:9%; margin-top: 1em">EN may be
colon-modified to avoid any text insertion. Instead, a
boolean is returned that signals whether any file matched
<i>pattern</i>. E.g. &ldquo;:EN*.c<b>$$</b>&rdquo; returns
success (-1) if there is at least one &ldquo;.c&rdquo; file
in the current directory.</p>

<p style="margin-left:9%; margin-top: 1em">The results of
EN may be filtered by specifying a numeric file <i>type</i>
check argument. This argument may be omitted (as in the
examples above) and defaults to 0, i.e. no additional
checking. The following file type check values are currently
defined:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p style="margin-top: 1em">0</p></td>
<td width="4%"></td>
<td width="77%">


<p style="margin-top: 1em">No file type checking is
performed. Note however, that when globbing only directory
contents (of any type) are used, so without the
<i>filename</i> argument, the value 0 is equivalent to
5.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>1</p></td>
<td width="4%"></td>
<td width="77%">


<p>Only match <i>regular files</i> (no directories). Will
also match symlinks to regular files (on platforms
supporting symlinks).</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>2</p></td>
<td width="4%"></td>
<td width="77%">


<p>Only match <i>symlinks</i>. On platforms without
symlinks (non-UNIX), this will never match anything.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>3</p></td>
<td width="4%"></td>
<td width="77%">


<p>Only match <i>directories</i>.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>4</p></td>
<td width="4%"></td>
<td width="77%">


<p>Only match <i>executables</i>. On UNIX, the executable
flag is evaluated, while on Windows only the file name is
checked.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>5</p></td>
<td width="4%"></td>
<td width="77%">


<p>Only match existing files or directories. When globbing,
this check makes no sense and is equivalent to no check at
all. It may however be used to test that a filename refers
to an existing file.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">For instance,
&ldquo;3EN*<b>$$</b>&rdquo; will expand to all
subdirectories in the current directory. The following idiom
may be used to check whether a given filename refers to a
regular file: 1:EN*<b>$</b><i>filename</i><b>$</b></p>

<p style="margin-left:9%; margin-top: 1em">Note that both
without colon and colon modified forms of EN save the
success or failure of the operation in the numeric part of
the glob register &ldquo;_&rdquo; (i.e. the same value that
the colon modified form would return). The command itself
never fails because of failure in matching any files. E.g.
if &ldquo;EN*.c<b>$$</b>&rdquo; does not match any files,
the EN command is still successful but does not insert
anything. A failure boolean would be saved in
&ldquo;_&rdquo;, though.</p>

<p style="margin-left:9%; margin-top: 1em">String-building
characters are enabled for EN and both string arguments are
considered file names with regard to auto-completions.</p>

<h3>Go to label
<a name="Go to label"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Olabel$ <br>
:Olabel$ <br>
[<i>n</i>] Olabel0[,label1,...]$</p>

<p style="margin-left:9%; margin-top: 1em">Go to
<i>label</i> The simple go-to command is a special case of
the computed go-to command. A comma-separated list of labels
may be specified in the string argument. The label to jump
to is selected by <i>n</i> (0 is <i>label0</i> , 1 is
<i>label1</i> , etc.). If <i>n</i> is omitted, 0 is implied.
Computed go-tos can be used like switch-case statements
other languages.</p>

<p style="margin-left:9%; margin-top: 1em">If the label
selected by <i>n</i> is does not exist in the list of labels
or is empty, the command does nothing and execution
continues normally. Label definitions are cached in a table,
so that if the label to go to has already been defined, the
go-to command will jump immediately. Otherwise, parsing
continues until the <i>label</i> is defined. The command
will yield an error if a label has not been defined when the
macro is terminated. When jumping to a non-existent
<i>label</i> in the command-line macro, you cannot
practically terminate the command-line until defining the
<i>label</i></p>

<p style="margin-left:9%; margin-top: 1em">String building
constructs are enabled in <b>O</b> which allows for a second
kind of computed go-to, where the label name contains the
value to select. When colon-modifying the <b>O</b> command,
execution will continue after the command if the given
<i>label</i> isn&rsquo;t found. This is useful to handle the
&ldquo;default&rdquo; case when using computed go-tos of the
second kind.</p>

<h3>Get help for topic
<a name="Get help for topic"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">? [<i>topic</i>]
$</p>

<p style="margin-left:9%; margin-top: 1em">Look up
<i>topic</i> in the help index, opening the corresponding
womanpage as a buffer and scrolling to the topic&rsquo;s
position. The help index is built when this command is first
executed, so the help system does not consume resources when
not used (e.g. in a batch-mode script).</p>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>&rsquo;s
help documents must be installed in the directory
<b>$SCITECOPATH/women</b>, i.e. as part of the standard
library. Each document consist of at least one plain-text
file with the extension &ldquo;.woman&rdquo;. Optionally, a
<b>SciTECO</b> script with the extension
&ldquo;.woman.tec&rdquo; can be installed alongside the main
document to define topics covered by this document and set
up styling.</p>

<p style="margin-left:9%; margin-top: 1em">The beginning of
the script must be a header of the form: <br>
!*<i>position</i>:<i>topic1 <br>
position2</i>:<i>topic2 <br>
...</i> <br>
*! <br>
In other words it must be a <b>SciTECO</b> comment followed
by an asterisk sign, followed by the first topic which is a
buffer position in bytes, followed by a colon and the topic
string. The topic string is terminated by the end of the
line. The end of the header is marked by a single
&ldquo;*!&rdquo;. Topic terms should be specified with
printable characters only (e.g. use Caret+A instead of
CTRL+A). When looking up a help term, control characters are
canonicalized to their printable form, so the term
&ldquo;&#710;A&rdquo; is found both by Caret+A and CTRL+A.
Also, while topic terms are not case folded, lookup is case
insensitive.</p>

<p style="margin-left:9%; margin-top: 1em">The rest of the
script is not read by <b>SciTECO</b> internally but should
contain styling for the main document. It is usually read by
the standard library&rsquo;s lexer configuration system when
showing a womanpage. If the &ldquo;.woman.tec&rdquo; macro
is missing, <b>SciTECO</b> will define a single topic for
the document based on the &ldquo;.woman&rdquo; file&rsquo;s
name.</p>

<p style="margin-left:9%; margin-top: 1em">The combination
of plain-text document and script is called a
&ldquo;womanpage&rdquo; because these files are usually
generated using <b>groff</b>(1) with the <i>grosciteco</i>
formatter and the <i>sciteco.tmac</i> GNU troff macros. When
using womanpages generated by <i>grosciteco</i>, help topics
can be defined using the <b>SCITECO_TOPIC</b> Troff macro.
This flexible system allows <b>SciTECO</b> to access
internal and third-party help files written in plain-text or
with an arbitrary GNU troff macro package. As all GNU troff
documents are processed at build-time, GNU troff is not
required at runtime.</p>

<p style="margin-left:9%; margin-top: 1em">The <b>?</b>
command does not have string building enabled.</p>

<h3>Go to position in buffer
<a name="Go to position in buffer"></a>
</h3>



<p style="margin-left:9%; margin-top: 1em">[<i>position</i>]
<b>J</b> <br>
[<i>position</i>] : <b>J</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Sets dot to
<i>position</i> If <i>position</i> is omitted, 0 is implied
and &ldquo;J&rdquo; will go to the beginning of the
buffer.</p>

<p style="margin-left:9%; margin-top: 1em">If
<i>position</i> is outside the range of the buffer, the
command yields an error. If colon-modified, the command will
instead return a condition boolean signalling whether the
position could be changed or not.</p>

<h3>Move dot &lt;n&gt; characters
<a name="Move dot &lt;n&gt; characters"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>C</b> <br>
- <b>C</b> <br>
[<i>n</i>] : <b>C</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Adds <i>n</i> to
dot. 1 or -1 is implied if <i>n</i> is omitted. Fails if
<i>n</i> would move dot off-page. The colon modifier results
in a success-boolean being returned instead.</p>

<h3>Move dot &lt;n&gt; characters backwards
<a name="Move dot &lt;n&gt; characters backwards"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>R</b> <br>
- <b>R</b> <br>
[<i>n</i>] : <b>R</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Subtracts
<i>n</i> from dot. It is equivalent to
&ldquo;-nC&rdquo;.</p>

<h3>Move dot &lt;n&gt; lines forwards
<a name="Move dot &lt;n&gt; lines forwards"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>L</b> <br>
- <b>L</b> <br>
[<i>n</i>] : <b>L</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Move dot to the
beginning of the line specified relatively to the current
line. Therefore a value of 0 for <i>n</i> goes to the
beginning of the current line, 1 will go to the next line,
-1 to the previous line etc. If <i>n</i> is omitted, 1 or -1
is implied depending on the sign prefix.</p>

<p style="margin-left:9%; margin-top: 1em">If <i>n</i>
would move dot off-page, the command yields an error. The
colon-modifer results in a condition boolean being returned
instead.</p>

<h3>Move dot &lt;n&gt; lines backwards
<a name="Move dot &lt;n&gt; lines backwards"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>B</b> <br>
- <b>B</b> <br>
[<i>n</i>] : <b>B</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Move dot to the
beginning of the line <i>n</i> lines before the current one.
It is equivalent to &ldquo;-nL&rdquo;.</p>

<h3>Move dot &lt;n&gt; words forwards
<a name="Move dot &lt;n&gt; words forwards"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>W</b> <br>
- <b>W</b> <br>
[<i>n</i>] : <b>W</b> &rarr; <i>Success</i>|<i>Failure</i>
<br>
[<i>n</i>] @ <b>W</b> <br>
[<i>n</i>] :@ <b>W</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">If <i>n</i> is
positive, move dot <i>n</i> words forwards by first skipping
word characters, followed by non-word characters. If
<i>n</i> is negative, move dot &lt;-n&gt; words backwards by
first skipping non-word characters, followed by word
characters. This leaves dot at the beginning of words as
defined by the Scintilla message <b>SCI_SETWORDCHARS</b>. If
<i>n</i> is zero, dot is not moved. If <i>n</i> is omitted,
1 or -1 is implied depending on the sign prefix.</p>

<p style="margin-left:9%; margin-top: 1em">The command is
at-modified (<b>@</b>), the order of word vs. non-word
character skipping is swapped, which leaves dot at the end
of words. It is especially useful for jumping to the end of
the current word.</p>

<p style="margin-left:9%; margin-top: 1em">If the requested
word would lie beyond the range of the buffer, the command
yields an error. If colon-modified it instead returns a
condition code.</p>

<h3>Move dot &lt;n&gt; words backwards
<a name="Move dot &lt;n&gt; words backwards"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>P</b> <br>
- <b>P</b> <br>
[<i>n</i>] : <b>P</b> &rarr; <i>Success</i>|<i>Failure</i>
<br>
[<i>n</i>] @ <b>P</b> <br>
[<i>n</i>] :@ <b>P</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Move dot to the
beginning of preceding words if <i>n</i> is positive. It is
completely equivalent to &ldquo;-<i>n</i>W&rdquo;.</p>

<h3>Delete words forwards
<a name="Delete words forwards"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>V</b> <br>
- <b>V</b> <br>
[<i>n</i>] : <b>V</b> &rarr; <i>Success</i>|<i>Failure</i>
<br>
[<i>n</i>] @ <b>V</b> <br>
[<i>n</i>] :@ <b>V</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">If <i>n</i> is
positive, deletes the next <i>n</i> words until the
beginning of the <i>n</i>&rsquo;th word after the current
one. It is deleting exactly until the position that the
equivalent <b>W</b> command would move to.</p>


<p style="margin-left:9%; margin-top: 1em">&ldquo;@V&rdquo;
is especially useful to remove the remainder of the current
word.</p>

<h3>Delete word backwards
<a name="Delete word backwards"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>Y</b> <br>
- <b>Y</b> <br>
[<i>n</i>] : <b>Y</b> &rarr; <i>Success</i>|<i>Failure</i>
<br>
[<i>n</i>] @ <b>Y</b> <br>
[<i>n</i>] :@ <b>Y</b> &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">If <i>n</i> is
positive, deletes the preceding <i>n</i> words until the
beginning of the <i>n</i>&rsquo;th word before the current
one. It is deleting exactly until the position that the
equivalent <b>P</b> command would move to. Y is completely
equivalent to &ldquo;-<i>n</i>V&rdquo;.</p>

<h3>Kill lines
<a name="Kill lines"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>K</b> <br>
- <b>K</b> <br>
from,to <b>K</b> <br>
[<i>n</i>] : <b>K</b> &rarr; <i>Success</i>|<i>Failure</i>
<br>
from,to: <b>K</b> &rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Deletes
characters up to the beginning of the line <i>n</i> lines
after or before the current one. If <i>n</i> is 0,
&ldquo;K&rdquo; will delete up to the beginning of the
current line. If <i>n</i> is omitted, the sign prefix will
be implied. So to delete the entire line regardless of the
position in it, one can use &ldquo;0KK&rdquo;.</p>

<p style="margin-left:9%; margin-top: 1em">If the deletion
is beyond the buffer&rsquo;s range, the command will yield
an error unless it has been colon-modified so it returns a
condition code.</p>

<p style="margin-left:9%; margin-top: 1em">If two arguments
<i>from</i> and <i>to</i> are available, the command is
synonymous to <i>from</i> , <i>to</i> D.</p>

<h3>Delete characters
<a name="Delete characters"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>D</b> <br>
- <b>D</b> <br>
from,to <b>D</b> <br>
[<i>n</i>] : <b>D</b> &rarr; <i>Success</i>|<i>Failure</i>
<br>
from,to: <b>D</b> &rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">If <i>n</i> is
positive, the next <i>n</i> characters (up to and character
.+ <i>n</i> ) are deleted. If <i>n</i> is negative, the
previous <i>n</i> characters are deleted. If <i>n</i> is
omitted, the sign prefix will be implied.</p>

<p style="margin-left:9%; margin-top: 1em">If two arguments
can be popped from the stack, the command will delete the
characters with absolute position <i>from</i> up to
<i>to</i> from the current buffer.</p>

<p style="margin-left:9%; margin-top: 1em">If the character
range to delete is beyond the buffer&rsquo;s range, the
command will yield an error unless it has been
colon-modified so it returns a condition code instead.</p>

<h3>Convert between lines and glyph lengths or positions
<a name="Convert between lines and glyph lengths or positions"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
&#710; <b>Q</b> &rarr; glyphs <br>
[<i>position</i>] :&#710; <b>Q</b> &rarr; line</p>

<p style="margin-left:9%; margin-top: 1em">Converts between
line and glyph arguments. It returns the number of glyphs
between dot and the <i>n</i> -th next line (or previous line
if <i>n</i> is negative). Consequently
&ldquo;&#710;QC&rdquo; is equivalent to &ldquo;L&rdquo;, but
less efficient.</p>

<p style="margin-left:9%; margin-top: 1em">If
colon-modified, an absolute buffer position is converted to
the line that contains this position, beginning with 1.
Without arguments, &ldquo;:&#710;Q&rdquo; returns the
current line.</p>

<h3>Save Q-Register
<a name="Save Q-Register"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[q</p>

<p style="margin-left:9%; margin-top: 1em">Save Q-Register
<i>q</i> contents on the global Q-Register push-down
stack.</p>

<h3>Restore Q-Register
<a name="Restore Q-Register"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">]q <br>
:]q &rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Restore
Q-Register <i>q</i> by replacing its contents with the
contents of the register saved on top of the Q-Register
push-down stack. The stack entry is popped.</p>

<p style="margin-left:9%; margin-top: 1em">When
colon-modified, <b>]</b> returns a success boolean (-1) if
there was a register to pop. If the stack was empty, a
failure boolean (0) is returned instead of throwing an
error.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, the original contents of <i>q</i> are not immediately
reclaimed but are kept in memory to support rubbing out the
command. Memory is reclaimed on command-line
termination.</p>

<h3>Edit or load Q-Register
<a name="Edit or load Q-Register"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">EQq$ <br>
EQq [<i>file</i>] $</p>

<p style="margin-left:9%; margin-top: 1em">When specified
with an empty <i>file</i> string argument, EQ makes <i>q</i>
the currently edited Q-Register. Otherwise, when <i>file</i>
is specified, it is the name of a file to read into
Q-Register <i>q</i> When loading a file, the currently
edited buffer/register is not changed and the edit position
of register <i>q</i> is reset to 0.</p>

<p style="margin-left:9%; margin-top: 1em">Undefined
Q-Registers will be defined. The command fails if
<i>file</i> could not be read.</p>

<h3>Save Q-Register string to file
<a name="Save Q-Register string to file"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>E</b>
%q&lt;file&gt;$</p>

<p style="margin-left:9%; margin-top: 1em">Saves the string
contents of Q-Register <i>q</i> to <i>file</i> The
<i>file</i> must always be specified, as Q-Registers have no
notion of associated file names.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, the E% command may be rubbed out, restoring the
previous state of <i>file</i> This follows the same rules as
with the <b>EW</b> command.</p>

<p style="margin-left:9%; margin-top: 1em">File names may
also be tab-completed and string building characters are
enabled by default.</p>

<h3>Query Q-Register existence, its integer or string characters
<a name="Query Q-Register existence, its integer or string characters"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Qq &rarr; n <br>
-Qq &rarr; -n <br>
&lt;position&gt;Qq &rarr; code <br>
:Qq &rarr; -1 | size</p>

<p style="margin-left:9%; margin-top: 1em">Without any
arguments, get and return the integer-part of Q-Register
<i>q</i></p>

<p style="margin-left:9%; margin-top: 1em">With one
argument, return the character <i>code</i> at
<i>position</i> from the string-part of Q-Register <i>q</i>
Positions are handled like buffer positions &mdash; they
begin at 0 up to the length of the string minus 1. -1 is
returned for invalid positions. If <i>q</i> is encoded as
UTF-8 and there is an invalid byte sequence at the requested
position, -2 is returned. Incomplete UTF-8 byte sequences
are returned as -3. Both non-colon-modified forms of Q
require register <i>q</i> to be defined and fail
otherwise.</p>

<p style="margin-left:9%; margin-top: 1em">When
colon-modified, Q does not pop any arguments from the
expression stack and returns the <i>size</i> of the string
in Q-Register <i>q</i> if register <i>q</i> exists (i.e. is
defined). Naturally, for empty strings, 0 is returned. When
colon-modified and Q-Register <i>q</i> is undefined, -1 is
returned instead. Therefore checking the return value
<b>:Q</b> for values smaller 0 allows checking the existence
of a register. Note that if <i>q</i> exists, its string part
is not initialized, so <b>:Q</b> may be used to handle
purely numeric data structures without creating Scintilla
documents by accident. These semantics allow the useful
idiom &ldquo;:Q<i>q</i>&quot;&gt;&rdquo; for checking
whether a Q-Register exists and has a non-empty string. Note
also that the return value of <b>:Q</b> may be interpreted
as a condition boolean that represents the non-existence of
<i>q</i> If <i>q</i> is undefined, it returns
<i>success</i>, else a <i>failure</i> boolean.</p>

<h3>Set or append to Q-Register string without string building
<a name="Set or append to Q-Register string without string building"></a>
</h3>



<p style="margin-left:9%; margin-top: 1em">[c1,c2,...]&#710;Uq
[<i>string</i>] $ <br>
[c1,c2,...]:&#710;Uq [<i>string</i>] $</p>

<p style="margin-left:9%; margin-top: 1em">If not
colon-modified, it first fills the Q-Register <i>q</i> with
all the values on the expression stack (interpreted as
codepoints). It does so in the order of the arguments, i.e.
<i>c1</i> will be the first character in <i>q</i> ,
<i>c2</i> the second, etc. Eventually the <i>string</i>
argument is appended to the register. Any existing string
value in <i>q</i> is overwritten by this operation.</p>

<p style="margin-left:9%; margin-top: 1em">In the
colon-modified form &#710;U does not overwrite existing
contents of <i>q</i> but only appends to it.</p>

<p style="margin-left:9%; margin-top: 1em">If <i>q</i> is
undefined, it will be defined.</p>

<p style="margin-left:9%; margin-top: 1em">String-building
characters are <b>disabled</b> for &#710;U commands.
Therefore they are especially well-suited for defining
<b>SciTECO</b> macros, since string building characters in
the desired Q-Register contents do not have to be escaped.
The <b>EU</b> command may be used where string building is
desired.</p>

<h3>Set or append to Q-Register string with string building characters
<a name="Set or append to Q-Register string with string building characters"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[c1,c2,...]EUq
[<i>string</i>] $ <br>
[c1,c2,...]:EUq [<i>string</i>] $</p>

<p style="margin-left:9%; margin-top: 1em">This command
sets or appends to the contents of Q-Register <i>q</i>. It
is identical to the <b>&#710;U</b> command, except that this
form of the command has string building characters
<b>enabled</b>.</p>

<h3>Insert or print Q-Register string
<a name="Insert or print Q-Register string"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Gq <br>
:Gq</p>

<p style="margin-left:9%; margin-top: 1em">Inserts the
string of Q-Register <i>q</i> into the buffer at its current
position. If colon-modified prints the string as a message
(i.e. to the terminal and/or in the message area) instead of
modifying the current buffer.</p>

<p style="margin-left:9%; margin-top: 1em">Specifying an
undefined <i>q</i> yields an error.</p>

<h3>Set Q-Register integer
<a name="Set Q-Register integer"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">nUq <br>
-Uq <br>
[<i>n</i>] :Uq &rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Sets the
integer-part of Q-Register <i>q</i> to <i>n</i>
&ldquo;-U&rdquo; is equivalent to &ldquo;-1U&rdquo;,
otherwise the command fails if <i>n</i> is missing.</p>

<p style="margin-left:9%; margin-top: 1em">If the command
is colon-modified, it returns a success boolean if <i>n</i>
or &ldquo;-&rdquo; is given. Otherwise it returns a failure
boolean and does not modify <i>q</i></p>

<p style="margin-left:9%; margin-top: 1em">The register is
defined if it does not exist.</p>

<h3>Increase or decrease Q-Register integer
<a name="Increase or decrease Q-Register integer"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>] %q
&rarr; q+n <br>
-%q &rarr; q-1</p>

<p style="margin-left:9%; margin-top: 1em">Add <i>n</i> to
the integer part of register <i>q</i> , returning its new
value. If <i>n</i> is omitted, the sign prefix is implied.
<i>q</i> will be defined if it does not exist.</p>

<h3>Execute macro
<a name="Execute macro"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Mq <br>
:Mq</p>

<p style="margin-left:9%; margin-top: 1em">Execute macro
stored in string of Q-Register <i>q</i> The command itself
does not push or pop and arguments from the stack but the
macro executed might well do so. The new macro invocation
level will contain its own go-to label table and local
Q-Register table. Except when the command is colon-modified
- in this case, local Q-Registers referenced in the macro
refer to the parent macro-level&rsquo;s local Q-Register
table (or whatever level defined one last).</p>

<p style="margin-left:9%; margin-top: 1em">Errors during
the macro execution will propagate to the M command. In
other words if a command in the macro fails, the M command
will fail and this failure propagates until the top-level
macro (e.g. the command-line macro).</p>

<p style="margin-left:9%; margin-top: 1em">Note that the
string of <i>q</i> will be copied upon macro execution, so
subsequent changes to Q-Register <i>q</i> from inside the
macro do not modify the executed code.</p>

<p style="margin-left:9%; margin-top: 1em">While <b>M</b>
does not check the register&rsquo;s configured encoding (as
reported by <b>EE</b>), its contents must be and are checked
to be in valid UTF-8.</p>

<h3>Execute from indirect command file
<a name="Execute from indirect command file"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">EIfile$ <br>
:EIfile$</p>

<p style="margin-left:9%; margin-top: 1em">Read the file
with name <i>file</i> into memory and execute its contents
as a macro. It is otherwise similar to the &ldquo;M&rdquo;
command.</p>

<p style="margin-left:9%; margin-top: 1em">If <i>file</i>
could not be read, the command yields an error.</p>

<p style="margin-left:9%; margin-top: 1em">As all
<b>SciTECO</b> code, the contents of <i>file</i> must be in
valid UTF-8 even if operating in the &ldquo;default
ANSI&rdquo; mode as configured by <b>ED</b>.</p>

<h3>Copy into or append or cut to Q-Register
<a name="Copy into or append or cut to Q-Register"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>lines</i>]
Xq <br>
-Xq <br>
from,toXq <br>
[<i>lines</i>] :Xq <br>
-:Xq <br>
from,to:Xq <br>
[<i>lines</i>] @Xq <br>
-@Xq <br>
from,to@Xq <br>
[<i>lines</i>] :@Xq <br>
-:@Xq <br>
from,to:@Xq</p>

<p style="margin-left:9%; margin-top: 1em">Copy the next or
previous number of <i>lines</i> from the buffer into the
Q-Register <i>q</i> string. If <i>lines</i> is omitted, the
sign prefix is implied. If two arguments are specified, the
characters beginning at position <i>from</i> up to the
character at position <i>to</i> are copied. The semantics of
the arguments is analogous to the <b>K</b> command&rsquo;s
arguments.</p>

<p style="margin-left:9%; margin-top: 1em">If the command
is colon-modified (<b>:</b>), the characters will be
appended to the end of register <i>q</i> instead. If the
command is at-modified (<b>@</b>), the text will be removed
from the buffer after copying or appending to the
Q-Register, thus performing a cut operation. The order of
modifiers is as always insignificant.</p>

<p style="margin-left:9%; margin-top: 1em">Register
<i>q</i> will be created if it is undefined.</p>

<h3>Open or edit file
<a name="Open or edit file"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>EB</b> [<i>file</i>] $ <br>
[<i>n</i>] <b>EB</b> $</p>

<p style="margin-left:9%; margin-top: 1em">Opens or edits
the file with name <i>file</i> If <i>file</i> is not in the
buffer ring it is opened, added to the ring and set as the
currently edited buffer. If it already exists in the ring,
it is merely made the current file. <i>file</i> may be
omitted in which case the default unnamed buffer is
created/edited. If an argument is specified as 0, EB will
additionally display the buffer ring contents in the
window&rsquo;s popup area. Naturally this only has any
effect in interactive mode. Note that you can also click on
these entries &mdash; if mouse support is enabled &mdash; to
immediately switch to any file in the buffer ring just like
with any other popup.</p>

<p style="margin-left:9%; margin-top: 1em"><i>file</i> may
also be a glob pattern, in which case all regular files
matching the pattern are opened/edited. Globbing is
performed exactly the same as the <b>EN</b> command does.
Also refer to the section called <b>Glob Patterns</b> for
more details.</p>

<p style="margin-left:9%; margin-top: 1em">File names of
buffers in the ring are normalized by making them absolute.
Any comparison on file names is performed using guessed or
actual absolute file paths, so that one file may be referred
to in many different ways (paths).</p>

<p style="margin-left:9%; margin-top: 1em"><i>file</i> does
not have to exist on disk. In this case, an empty buffer is
created and its name is guessed from <i>file</i> When the
newly created buffer is first saved, the file is created on
disk and the buffer&rsquo;s name will be updated to the
absolute path of the file on disk.</p>

<p style="margin-left:9%; margin-top: 1em">File names may
also be tab-completed and string building characters are
enabled by default.</p>

<p style="margin-left:9%; margin-top: 1em">If <i>n</i> is
greater than zero, the string argument must be empty.
Instead <i>n</i> selects a buffer from the ring to edit. A
value of 1 denotes the first buffer, 2 the second,
ecetera.</p>

<h3>Save buffer or Q-Register
<a name="Save buffer or Q-Register"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>EW</b> $ <br>
[<i>n</i>] <b>EW</b> [<i>file</i>] $</p>

<p style="margin-left:9%; margin-top: 1em">Saves the chosen
buffer with id <i>n</i> to disk By default, the current
buffer is saved. If the buffer was dirty, it will be clean
afterwards. If the string argument <i>file</i> is not empty,
the buffer is saved with the specified file name and is
renamed in the ring.</p>

<p style="margin-left:9%; margin-top: 1em">If the current
document is a Q-Register and <i>n</i> is not given, the
string contents of the current Q-Register are saved to
<i>file</i> (cf. <b>E%</b><i>q</i> command).. Q-Registers
have no notion of associated file names, so <i>file</i> must
be always specified in this case.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, <b>EW</b> is executed immediately and may be rubbed
out. In order to support that, <b>SciTECO</b> creates so
called save point files. It does not merely overwrite
existing files when saving but moves them to save point
files instead. Save point files are called
&ldquo;.teco-<i>n</i>-<i>filename</i>&#732;&rdquo;, where
<i>filename</i> is the name of the saved file and <i>n</i>
is a number that is increased with every save operation.
Save point files are always created in the same directory as
the original file to ensure that no copying of the file on
disk is necessary but only a rename of the file. When
rubbing out the <b>EW</b> command, <b>SciTECO</b> restores
the latest save point file by moving (renaming) it back to
its original path -- also not requiring any on-disk copying.
<b>SciTECO</b> is impossible to crash, but just in case it
still does it may leave behind these save point files which
must be manually deleted by the user. Otherwise save point
files are deleted on command line termination.</p>

<p style="margin-left:9%; margin-top: 1em">File names may
also be tab-completed and string building characters are
enabled by default.</p>

<h3>Read and insert file into current buffer
<a name="Read and insert file into current buffer"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>ER</b>
&lt;file&gt;$</p>

<p style="margin-left:9%; margin-top: 1em">Reads and
inserts the given <i>file</i> into the current buffer or
Q-Register at dot. Dot is left immediately after the given
file.</p>

<h3>Remove buffer from ring
<a name="Remove buffer from ring"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>EF</b> <br>
- <b>EF</b> <br>
[<i>n</i>] : <b>EF</b></p>

<p style="margin-left:9%; margin-top: 1em">Removes buffer
from buffer ring, effectively closing it. The optional
argument <i>n</i> specifies the id of the buffer to close --
by default the current buffer will be closed. If the
selected buffer is dirty (modified), <b>EF</b> will yield an
error. If <i>n</i> is negative (success boolean), buffer
&lt;-n&gt; will be closed even if it is dirty.
&ldquo;-EF&rdquo; will force-close the current buffer.</p>

<p style="margin-left:9%; margin-top: 1em">When
colon-modified, the selected buffer is saved before closing.
The file is always written, unlike &ldquo;:EX&rdquo; which
saves only dirty buffers. This can fail of course, e.g. when
called on the unnamed buffer.</p>

<p style="margin-left:9%; margin-top: 1em">It is noteworthy
that <b>EF</b> will be executed immediately in interactive
mode but can be rubbed out at a later time to reopen the
file. Closed files are kept in memory until the command line
is terminated.</p>

<p style="margin-left:9%; margin-top: 1em">Close and edit
hooks are only executed when closing the current buffer.</p>

<h3>Set or get search mode flag
<a name="Set or get search mode flag"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">mode&#710;
<b>X</b> <br>
-&#710; <b>X</b> <br>
&#710; <b>X</b> &rarr; mode</p>

<p style="margin-left:9%; margin-top: 1em">The search mode
is interpreted as a TECO boolean. A true value (smaller than
zero) configures case-sensitive searches, while a false
value (larger than or equal to zero) configures
case-insensitive searches. &ldquo;-&#710;X&rdquo; is
equivalent to &ldquo;-1&#710;X&rdquo; and also enables
case-sensitive searches. Searches are case-insensitive by
default.</p>

<p style="margin-left:9%; margin-top: 1em">An alternative
way to access the search mode is via the
&ldquo;&#710;X&rdquo; local Q-Register. Consequently, the
search mode is local to the current macro invocation frame,
unless the macro call was colon-modified.</p>

<h3>Search for pattern
<a name="Search for pattern"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>S</b> [<i>pattern</i>] $ <br>
- <b>S</b> [<i>pattern</i>] $ <br>
from,toS [<i>pattern</i>] $ <br>
[<i>n</i>] : <b>S</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
-: <b>S</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to: <b>S</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
[<i>n</i>] :: <b>S</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
-:: <b>S</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to:: <b>S</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Search for
<i>pattern</i> in the current buffer/Q-Register. Search
order and range depends on the arguments given. By default
without any arguments, <b>S</b> will search forward from dot
till file end. The optional single argument specifies the
occurrence to search (1 is the first occurrence, 2 the
second, etc.). Negative values for <i>n</i> perform backward
searches. If missing, the sign prefix is implied for
<i>n</i> Therefore &ldquo;-S&rdquo; will search for the
first occurrence of <i>pattern</i> before dot.</p>

<p style="margin-left:9%; margin-top: 1em">If two arguments
are specified on the command, search will be bounded in the
character range <i>from</i> up to <i>to</i> , and only the
first occurrence will be searched. <i>from</i> might be
larger than <i>to</i> in which case a backward search is
performed in the selected range.</p>

<p style="margin-left:9%; margin-top: 1em">After performing
the search, the search <i>pattern</i> is saved in the global
search Q-Register &ldquo;_&rdquo;. A success/failure
condition boolean is saved in that register&rsquo;s integer
part. <i>pattern</i> may be omitted in which case the
pattern of the last search or search and replace command
will be implied by using the contents of register
&ldquo;_&rdquo; (this could of course also be manually
set).</p>

<p style="margin-left:9%; margin-top: 1em">After a
successful search, the pointer is positioned after the found
text in the buffer. An unsuccessful search will display an
error message but not actually yield an error. The message
displaying is suppressed when executed from loops and
register &ldquo;_&rdquo; is the implied argument for
break-commands so that a search-break idiom can be
implemented as follows: <br>
&lt;Sfoo$; ...&gt; <br>
Alternatively, <b>S</b> may be colon-modified in which case
it returns a condition boolean that may be directly
evaluated by a conditional or break-command.</p>

<p style="margin-left:9%; margin-top: 1em">When modified
with two colons, the search will be anchored in addition to
returning a condition boolean, i.e. it can be used to
perform a string comparison. &ldquo;::S&rdquo; without
arguments compares the pattern against the current buffer
position. With a single positive integer <i>n</i> ,
&ldquo;::S&rdquo; matches <i>n</i> repititions of the given
pattern. With a negative integer <i>n</i> ,
&ldquo;::S&rdquo; will match the <i>n</i>-th last occurrence
of the pattern from the beginning of the buffer (which is
not really useful). With two integer arguments,
&ldquo;::S&rdquo; compares the pattern against the
corresponding part of the buffer.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, searching will be performed immediately (&ldquo;search
as you type&rdquo;) highlighting matched text on the fly.
Changing the <i>pattern</i> results in the search being
reperformed from the beginning.</p>

<h3>Search over buffer-boundaries
<a name="Search over buffer-boundaries"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>N</b> [<i>pattern</i>] $ <br>
- <b>N</b> [<i>pattern</i>] $ <br>
from,toN [<i>pattern</i>] $ <br>
[<i>n</i>] : <b>N</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
-: <b>N</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to: <b>N</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Search for
<i>pattern</i> over buffer boundaries. This command is
similar to the regular search command (<b>S</b>) but will
continue to search for occurrences of pattern when the end
or beginning of the current buffer is reached. Occurrences
of <i>pattern</i> spanning over buffer boundaries will not
be found. When searching forward <b>N</b> will start in the
current buffer at dot, continue with the next buffer in the
ring searching the entire buffer until it reaches the end of
the buffer ring, continue with the first buffer in the ring
until reaching the current file again where it searched from
the beginning of the buffer up to its current dot. Searching
backwards does the reverse.</p>

<p style="margin-left:9%; margin-top: 1em"><b>N</b> also
differs from <b>S</b> in the interpretation of two
arguments. Using two arguments the search will be bounded
between the buffer with number <i>from</i> , up to the
buffer with number <i>to</i> When specifying buffer ranges,
the entire buffers are searched from beginning to end.
<i>from</i> may be greater than <i>to</i> in which case,
searching starts at the end of buffer <i>from</i> and
continues backwards until the beginning of buffer <i>to</i>
has been reached. Furthermore as with all buffer numbers,
the buffer ring is considered a circular structure and it is
possible to search over buffer ring boundaries by specifying
buffer numbers greater than the number of buffers in the
ring.</p>

<h3>Delete up to occurrence of pattern
<a name="Delete up to occurrence of pattern"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><b>FK</b>
[<i>pattern</i>] $ <br>
[<i>n</i>] <b>FK</b> [<i>pattern</i>] $ <br>
- <b>FK</b> [<i>pattern</i>] $ <br>
from,toFK [<i>pattern</i>] $ <br>
: <b>FK</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
[<i>n</i>] : <b>FK</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
-: <b>FK</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to: <b>FK</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em"><b>FK</b>
searches for <i>pattern</i> just like the regular search
command (<b>S</b>) but when found, deletes all text from dot
up to but not including the found text instance. When
searching backwards the characters beginning after the
occurrence of <i>pattern</i> up to dot are deleted.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, deletion is not performed as-you-type but only on
command termination.</p>

<h3>Delete occurrence of pattern
<a name="Delete occurrence of pattern"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>FD</b> [<i>pattern</i>] $ <br>
- <b>FD</b> [<i>pattern</i>] $ <br>
from,toFD [<i>pattern</i>] $ <br>
[<i>n</i>] : <b>FD</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
-: <b>FD</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to: <b>FD</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
[<i>n</i>] :: <b>FD</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
-:: <b>FD</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to:: <b>FD</b> [<i>pattern</i>] $ &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Searches for
<i>pattern</i> just like the regular search command
(<b>S</b>) but when found deletes the entire occurrence.</p>

<h3>Search and replace
<a name="Search and replace"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>FS</b> [<i>pattern</i>] $ [<i>string</i>] $ <br>
- <b>FS</b> [<i>pattern</i>] $ [<i>string</i>] $ <br>
from,toFS [<i>pattern</i>] $ [<i>string</i>] $ <br>
[<i>n</i>] : <b>FS</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
-: <b>FS</b> [<i>pattern</i>] $ [<i>string</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to: <b>FS</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
[<i>n</i>] :: <b>FS</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
-:: <b>FS</b> [<i>pattern</i>] $ [<i>string</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to:: <b>FS</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Search for
<i>pattern</i> just like the regular search command
(<b>S</b>) does but replace it with <i>string</i> if found.
If <i>string</i> is empty, the occurrence will always be
deleted so &ldquo;FS[pattern]<b>$$</b>&rdquo; is similar to
&ldquo;FD[pattern]$&rdquo;. The global replace register is
<b>not</b> touched by the <b>FS</b> command.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, the replacement will be performed immediately and
interactively.</p>

<h3>Search and replace with default
<a name="Search and replace with default"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>FR</b> [<i>pattern</i>] $ [<i>string</i>] $ <br>
- <b>FR</b> [<i>pattern</i>] $ [<i>string</i>] $ <br>
from,toFR [<i>pattern</i>] $ [<i>string</i>] $ <br>
[<i>n</i>] : <b>FR</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
-: <b>FR</b> [<i>pattern</i>] $ [<i>string</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to: <b>FR</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
[<i>n</i>] :: <b>FR</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
-:: <b>FR</b> [<i>pattern</i>] $ [<i>string</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to:: <b>FR</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">The <b>FR</b>
command is similar to the <b>FS</b> command. It searches for
<i>pattern</i> just like the regular search command
(<b>S</b>) and replaces the occurrence with <i>string</i>
similar to what <b>FS</b> does. It differs from <b>FS</b> in
the fact that the replacement string is saved in the global
replacement register &ldquo;-&rdquo;. If <i>string</i> is
empty the string in the global replacement register is
implied instead.</p>

<h3>Search and replace with default over buffer-boundaries
<a name="Search and replace with default over buffer-boundaries"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>n</i>]
<b>FN</b> [<i>pattern</i>] $ [<i>string</i>] $ <br>
- <b>FN</b> [<i>pattern</i>] $ [<i>string</i>] $ <br>
from,toFN [<i>pattern</i>] $ [<i>string</i>] $ <br>
[<i>n</i>] : <b>FN</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
-: <b>FN</b> [<i>pattern</i>] $ [<i>string</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to: <b>FN</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
[<i>n</i>] :: <b>FN</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i> <br>
-:: <b>FN</b> [<i>pattern</i>] $ [<i>string</i>] $ &rarr;
<i>Success</i>|<i>Failure</i> <br>
from,to:: <b>FN</b> [<i>pattern</i>] $ [<i>string</i>] $
&rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">The <b>FN</b>
command is similar to the <b>FR</b> command but will
continue to search for occurrences of <i>pattern</i> when
the end or beginning of the current buffer is reached. It
searches for <i>pattern</i> just like the search over
buffer-boundaries command (<b>N</b>) and replaces the
occurrence with <i>string</i> similar to what <b>FR</b>
does. If <i>string</i> is empty the string in the global
replacement register is implied instead.</p>

<p style="margin-left:9%; margin-top: 1em"><b>FN</b> also
differs from <b>FR</b> in the interpretation of two
arguments. Using two arguments the search will be bounded
between the buffer with number <i>from</i> , up to the
buffer with number <i>to</i></p>

<h3>Execute operating system command and filter buffer contents
<a name="Execute operating system command and filter buffer contents"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">ECcommand$ <br>
linesECcommand$ <br>
-ECcommand$ <br>
from,toECcommand$ <br>
:ECcommand$ &rarr; <i>Success</i>|<i>Failure</i> <br>
lines:ECcommand$ &rarr; <i>Success</i>|<i>Failure</i> <br>
-:ECcommand$ &rarr; <i>Success</i>|<i>Failure</i> <br>
from,to:ECcommand$ &rarr; <i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">The EC command
allows you to interface with the operating system shell and
external programs. The external program is spawned as a
background process and its standard input stream is fed with
data from the current document, i.e. text is piped into the
external program. When automatic EOL translation is enabled,
this will translate all end of line sequences according to
the source document&rsquo;s EOL mode (see <b>EL</b>
command). For instance when piping from a document with DOS
line breaks, the receiving program will only be sent DOS
line breaks. The process&rsquo; standard output stream is
also redirected and inserted into the current document. End
of line sequences are normalized accordingly but the EOL
mode guessed from the program&rsquo;s output is <b>not</b>
set on the document. The process&rsquo; standard error
stream is discarded. If data is piped into the external
program, its output replaces that data in the buffer. Dot is
always left at the end of the insertion.</p>

<p style="margin-left:9%; margin-top: 1em">If invoked
without parameters, no data is piped into the process (and
no characters are removed) and its output is inserted at the
current buffer position. This is equivalent to invoking
&ldquo;.,.EC&rdquo;. If invoked with one parameter, the next
or previous number of <i>lines</i> are piped from the buffer
into the program and its output replaces these <i>lines</i>
This effectively runs <i>command</i> as a filter over
<i>lines</i> &ldquo;-EC&rdquo; may be written as a short-cut
for &ldquo;-1EC&rdquo;. When invoked with two parameters,
the characters beginning at position <i>from</i> up to the
character at position <i>to</i> are piped into the program
and replaced with its output. This effectively runs
<i>command</i> as a filter over a buffer range.</p>

<p style="margin-left:9%; margin-top: 1em">Errors are
thrown not only for invalid buffer ranges but also for
errors during process execution. If the external
<i>command</i> has an unsuccessful exit code, the EC command
will also fail. If the EC command is colon-modified, it will
instead return a TECO boolean signifying success or failure.
In case of an unsuccessful exit code, a colon-modified EC
will return the absolute value of the process exit code
(which is also a TECO failure boolean) and 0 for all other
failures. This feature may be used to take action depending
on a specific process exit code.</p>

<p style="margin-left:9%; margin-top: 1em"><i>command</i>
execution is by default platform-dependent. On DOS-like
systems like Windows, <i>command</i> is passed to the
command interpreter specified in the <b>$COMSPEC</b>
environment variable with the &ldquo;/q&rdquo; and
&ldquo;/c&rdquo; command-line arguments. On UNIX-like
systems, <i>command</i> is passed to the interpreter
specified by the <b>$SHELL</b> environment variable with the
&ldquo;-c&rdquo; command-line argument. Therefore the
default shell can be configured using the corresponding
environment registers. The operating system restrictions on
the maximum length of command-line arguments apply to
<i>command</i> and quoting of parameters within
<i>command</i> is somewhat platform dependent. On all other
platforms, <b>SciTECO</b> will uniformly parse
<i>command</i> just as an UNIX98 &ldquo;/bin/sh&rdquo;
would, but without performing any expansions. The program
specified in <i>command</i> is searched for in standard
locations (according to the <b>$PATH</b> environment
variable). This mode of operation can also be enforced on
all platforms by enabling bit 7 in the ED flag, e.g. by
executing &ldquo;0,128ED&rdquo;, and is recommended when
writing cross-platform macros using the EC command.</p>

<p style="margin-left:9%; margin-top: 1em">When using an
UNIX-compatible shell or the UNIX98 shell emulation, you
might want to use the <b>&#710;E@</b> string-building
character to pass Q-Register contents reliably as single
arguments to the spawned process.</p>

<p style="margin-left:9%; margin-top: 1em">The spawned
process inherits both <b>SciTECO</b>&rsquo;s current working
directory and its environment variables. More precisely,
<b>SciTECO</b> uses its environment registers to construct
the spawned process&rsquo; environment. Therefore it is also
straight forward to change the working directory or some
environment variable temporarily for a spawned process.</p>

<p style="margin-left:9%; margin-top: 1em">Note that when
run interactively and subsequently rubbed out,
<b>SciTECO</b> can easily undo all changes to the editor
state. It <b>cannot</b> however undo any other side-effects
that the execution of <i>command</i> might have had on your
system.</p>

<p style="margin-left:9%; margin-top: 1em">Note also that
the EC command blocks indefinitely until the <i>command</i>
completes, which may result in editor hangs. You may however
interrupt the spawned process by sending the <b>SIGINT</b>
signal to <b>SciTECO</b>, e.g. by pressing CTRL+C. The first
time, this will try to kill the spawned process gracefully.
The second time you press CTRL+C, it will hard kill the
process.</p>

<p style="margin-left:9%; margin-top: 1em">In interactive
mode, <b>SciTECO</b> performs TAB-completion of filenames in
the <i>command</i> string parameter but does not attempt any
escaping of shell-relevant characters like whitespaces.</p>

<h3>Set Q-Register to output of operating system command
<a name="Set Q-Register to output of operating system command"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">EGq command$
<br>
linesEGq command$ <br>
-EGq command$ <br>
from,toEGq command$ <br>
:EGq command$ &rarr; <i>Success</i>|<i>Failure</i> <br>
lines:EGq command$ &rarr; <i>Success</i>|<i>Failure</i> <br>
-:EGq command$ &rarr; <i>Success</i>|<i>Failure</i> <br>
from,to:EGq command$ &rarr;
<i>Success</i>|<i>Failure</i></p>

<p style="margin-left:9%; margin-top: 1em">Runs an
operating system <i>command</i> and set Q-Register <i>q</i>
to the data read from its standard output stream. Data may
be fed to <i>command</i> from the current buffer/document.
The interpretation of the parameters and <i>command</i> as
well as the colon-modification is analoguous to the EC
command.</p>

<p style="margin-left:9%; margin-top: 1em">The EG command
only differs from EC in not deleting any characters from the
current buffer, not changing the current buffer position and
writing process output to the Q-Register <i>q</i> In other
words, the current buffer is not modified by EG. Also since
EG replaces the string value of <i>q</i> , the
register&rsquo;s EOL mode is set to the mode guessed from
the external program&rsquo;s output.</p>

<p style="margin-left:9%; margin-top: 1em">The register
<i>q</i> is defined if it does not already exist.</p>

<h3>Print integer as message
<a name="Print integer as message"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">&lt;n&gt;= <br>
&lt;n&gt;== <br>
&lt;n&gt;=== <br>
&lt;n&gt;:= <br>
&lt;n&gt;:== <br>
&lt;n&gt;:===</p>

<p style="margin-left:9%; margin-top: 1em">Shows integer
<i>n</i> as a message in the message line and/or on the
console. One &ldquo;=&rdquo; formats the integer as a signed
decimal number, &ldquo;==&rdquo; formats as an unsigned
octal number and &ldquo;===&rdquo; as an unsigned
hexadecimal number. It is logged with the user-message
severity. The command fails if <i>n</i> is not given.</p>

<p style="margin-left:9%; margin-top: 1em">A noteworthy
quirk is that &ldquo;==&rdquo; and &ldquo;===&rdquo; will
print 2 or 3 numbers in succession when executed from
interactive mode at the end of the command line in order to
guarantee immediate feedback.</p>

<p style="margin-left:9%; margin-top: 1em">If you want to
print multiple values from the stack, you have to put the
&ldquo;=&rdquo; into a pass-through loop or separate the
commands with whitespace (e.g. &ldquo;&#710;Y=
=&rdquo;).</p>

<p style="margin-left:9%; margin-top: 1em">If
colon-modified the number is printed without a trailing
linefeed.</p>

<h3>Print string as message
<a name="Print string as message"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">&#710; <b>A</b>
&lt;string&gt;&#710; <b>A</b> <br>
@&#710; <b>A</b> /string/ <br>
:&#710; <b>A</b> &lt;string&gt;&#710; <b>A</b></p>

<p style="margin-left:9%; margin-top: 1em">Print
<i>string</i> as a message, i.e. in the message line in
interactive mode and if possible on the terminal (stdout) as
well.</p>

<p style="margin-left:9%; margin-top: 1em"><b>&#710;A</b>
differs from all other commands in the way <i>string</i> is
terminated. It is terminated by &#710;A (CTRL+A, ASCII 1) by
default. While the initial <b>&#710;A</b> can be written
with upcarets, the terminating &#710;A must always be ASCII
1. You can however overwrite the <i>string</i> terminator as
usual by <b>@</b>-modifying the command.</p>

<p style="margin-left:9%; margin-top: 1em">String-building
characters are enabled for this command. <b>&#710;A</b>
outputs strings in the default codepage, but when colon
modified raw ANSI encoding is enforced.</p>

<h3>Type out buffer contents as messages
<a name="Type out buffer contents as messages"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">[<i>lines</i>]
<b>T</b> <br>
- <b>T</b> <br>
from,toT</p>

<p style="margin-left:9%; margin-top: 1em">Type out the
next or previous number of <i>lines</i> from the buffer as a
message, i.e. in the message line in interactive mode and if
possible on the terminal (stdout) as well. If <i>lines</i>
is omitted, the sign prefix is implied. If two arguments are
specified, the characters beginning at position <i>from</i>
up to the character at position <i>to</i> are copied.</p>

<p style="margin-left:9%; margin-top: 1em">The semantics of
the arguments is analogous to the <b>K</b> command&rsquo;s
arguments.</p>

<h3>Type out the numeric arguments as a message or get character from user
<a name="Type out the numeric arguments as a message or get character from user"></a>
</h3>



<p style="margin-left:9%; margin-top: 1em">&lt;c1,c2,...&gt;&#710;
<b>T</b> <br>
&lt;c1,c2,...&gt;:&#710; <b>T</b> <br>
&#710; <b>T</b> &rarr; codepoint <br>
:&#710; <b>T</b> &rarr; byte</p>

<p style="margin-left:9%; margin-top: 1em">Types out
characters for all the values on the argument stack
(interpreted as codepoints) as messages, i.e. in the message
line in interactive mode and if possible on the terminal
(stdout) as well. It does so in the order of the arguments,
i.e. <i>c1</i> is inserted before <i>c2</i> , ecetera. By
default the codepoints are expected to be in the default
codepage, but you can force raw ANSI encoding (for arbitrary
bytes) by colon-modifying the command.</p>

<p style="margin-left:9%; margin-top: 1em">When called
without any argument, <b>&#710;T</b> reads a key from the
user (or from stdin) and returns the corresponding
codepoint. If the default encoding is UTF-8, this will not
work for function keys. If the default encoding is raw ANSI
or if the command is colon-modified, <b>&#710;T</b> returns
raw bytes. When run in batch mode, this will return whatever
byte is delivered by the attached terminal. In case stdin is
closed, -1 is returned. In interactive mode, pressing CTRL+D
or CTRL+C will also return -1.</p>

<h3>Send Scintilla message
<a name="Send Scintilla message"></a>
</h3>



<p style="margin-left:9%; margin-top: 1em">[lParam,][wParam,]
[<i>message</i>] <b>ES</b> $ &rarr; result <br>
[lParam,] [<i>wParam</i>] <b>ES</b> [<i>message</i>] $$
&rarr; result <br>
[<i>lParam</i>] <b>ES</b> [<i>message</i>] [,wParam]$$
&rarr; result <br>
[<i>wParam</i>] <b>ES</b> [<i>message</i>] $ [<i>lParam</i>]
$ &rarr; result <br>
[<i>lParam</i>] <b>ES</b> [<i>message</i>] $ [<i>wParam</i>]
&#710;@ [<i>lParam</i>] $ &rarr; result</p>

<p style="margin-left:9%; margin-top: 1em">Send Scintilla
message with code specified by <i>message</i> ,
<i>wParam</i> and <i>lParam message</i> and <i>wParam</i>
may be a symbolic names when specified as part of the first
string argument. If not, they are popped from the stack.
<i>lParam</i> may be specified as a constant string whose
pointer is passed to Scintilla if specified as the second
string argument. It is automatically null-terminated. If the
second string argument is empty, <i>lParam</i> is popped
from the stack instead. If the second string argument
contains a null-byte (<b>&#710;@</b>), both <i>wParam</i>
and <i>lParam</i> are passed as null-terminated string
pointers to Scintilla. If the second string ends in a
null-byte, <i>lParam</i> is still popped from the stack.
Parameters popped from the stack may be omitted, in which
case 0 is implied. The message&rsquo;s return value is
always pushed onto the stack (0 if the message has no
documented return values).</p>

<p style="margin-left:9%; margin-top: 1em">All messages
defined by Scintilla (as C macros in Scintilla.h) can be
used by passing their name as a string to ES (e.g.
ESSCI_LINESONSCREEN...). The &ldquo;SCI_&rdquo; prefix may
be omitted and message symbols are case-insensitive. Only
the Lexilla style names (SCE_...) may be used symbolically
with the ES command as <i>wParam</i> in the first string
argument. In interactive mode, symbols may be auto-completed
by pressing Tab. String-building characters are by default
interpreted in the string arguments.</p>

<p style="margin-left:9%; margin-top: 1em">As a special
exception, you can and must specify a Lexilla lexer name as
a string argument for the <b>SCI_SETILEXER</b> message, i.e.
in order to load a Lexilla lexer (this works similar to the
old <b>SCI_SETLEXERLANGUAGE</b> message). If the lexer name
contains a null-byte, the second string argument is split
into two: Up until the null-byte, the path of an external
lexer library (shared library or DLL) is expected, that
implements the Lexilla protocol. The &ldquo;.so&rdquo; or
&ldquo;.dll&rdquo; extension is optional. The concrete lexer
name is the remainder of the string after the null-byte.
This allows you to use lexers from external lexer libraries
like Scintillua. When detecting Scintillua, <b>SciTECO</b>
will automatically pass down the
<b>SCITECO_SCINTILLUA_LEXERS</b> environment variable as the
&ldquo;scintillua.lexers&rdquo; library property for
specifying the location of Scintillua&rsquo;s Lua lexer
files.</p>

<p style="margin-left:9%; margin-top: 1em">In order to
facilitate the use of Scintillua lexers, the semantics of
<b>SCI_NAMEOFSTYLE</b> have also been changed. Instead of
returning the name for a given style id, it now returns the
style id when given the name of a style in the second string
argument of <b>ES</b>, i.e. it allows you to look up style
ids by name.</p>

<p style="margin-left:9%; margin-top: 1em"><b>Warning</b>:
Almost all Scintilla messages may be dispatched using this
command. If called wrongly, you can easily crash the editor.
Therefore it is not recommended to invoke ES interactively.
<b>SciTECO</b> does not keep track of the editor state
changes performed by these commands and cannot undo them.
You should never use it to change the editor state (position
changes, deletions, etc.) or otherwise rub out will result
in an inconsistent editor state. There are however
exceptions:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p style="margin-top: 1em">In the editor profile and batch
mode in general, the ES command may be used freely.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>In the ED hook macro (register &ldquo;ED&rdquo;), when a
file is added to the ring, most destructive operations can
be performed since rubbing out the EB command responsible
for the hook execution also removes the buffer from the ring
again.</p> </td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="77%">


<p>As part of function key macros that immediately
terminate the command line.</p></td></tr>
</table>

<h2>COMPATIBILITY
<a name="COMPATIBILITY"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>SciTECO</b>
strives to be compatible with &ldquo;standard&rdquo; DEC
TECO-11 whereever this does not hinder
<b>SciTECO</b>&rsquo;s nature as an interactive modern
editor. In questions concerning multiple buffers and
interactivity <b>SciTECO</b> draws inspiration from Video
TECO. Most Video TECO and many &ldquo;standard&rdquo; TECO
macros should be portable with little or no changes.
<b>SciTECO</b> however conciously deviates from both
dialects to preserve features considered intrinsic and
defining to the project.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Program
invocation and options:</p>

<p style="margin-left:18%;"><b>sciteco</b>(1)</p>

<p style="margin-left:9%;">Scintilla messages and other
documentation:</p>


<p style="margin-left:18%;"><a href="http://scintilla.org/ScintillaDoc.html">Scintilla</a></p>

<p style="margin-left:9%;">Scinterm website, documenting
the mapping of &ldquo;RGB&rdquo; values to terminal <br>
colors on curses user interfaces:</p>


<p style="margin-left:18%;"><a href="https://orbitalquark.github.io/scinterm/">Scinterm
website</a></p>

<p style="margin-left:9%;">Scintillua manual, detailing
usage of Lua-based Scintilla lexers:</p>


<p style="margin-left:18%;"><a href="https://orbitalquark.github.io/scintillua/manual.html">Scintillua
manual</a></p>

<p style="margin-left:9%;">Suitable terminal fonts for icon
support in Curses (see <b>ED</b> flags):</p>


<p style="margin-left:18%;"><a href="https://www.nerdfonts.com/">Nerd
Fonts</a></p>

<p style="margin-left:9%;">Gtk+ 3 documentation, containg
details about its CSS support and <br>
syntax:</p>


<p style="margin-left:18%;"><a href="https://docs.gtk.org/gtk3/css-overview.html">Overview
of CSS in GTK</a></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">This manpage and
the <b>SciTECO</b> program was written by
<a href="mailto:robin.haberkorn@googlemail.com">Robin
Haberkorn</a>.</p>

<hr>
<tt>
<table width="100%"><tr>
	<td width="1ch" valign=top><b>*</b></td>
	<td valign=top><marquee>IThis page was made with SciTECO.<span class=reverse>$</span>-EX<span class=reverse>$$</span></marquee></td>
	<td width=56><a href="https://github.com/rhaberkorn/sciteco/issues" target=_blank>
		<img src="https://sciteco.sf.net/graphics/notbug.gif" title="There are no bugs. Go away.">
	</a></td>
</tr></table>
</tt>
</body>
</html>
